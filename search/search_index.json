{"config":{"lang":["en","ja"],"separator":"[\\s\\-,:!=\\[\\]()\"/]+|\\.(?!\\d)|&[lg]t;|(?!\\b)(?=[A-Z][a-z])","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Memoizer","text":"<p>\u81ea\u5206\u306e\u52c9\u5f37\u30e1\u30e2\u306a\u3069\u3092\u96d1\u591a\u306b\u307e\u3068\u3081\u3066\u308b\u3060\u3051\u306e\u30da\u30fc\u30b8\u3067\u3059\u3002</p> <p>\u3082\u3057\u3001\u4e0d\u9069\u5207\u306a\u5185\u5bb9\u3084\u8457\u4f5c\u6a29\u306b\u89e6\u308c\u308b\u3088\u3046\u306a\u5185\u5bb9\u304c\u66f8\u304b\u308c\u3066\u3044\u305f\u5834\u5408\u306b\u306f \u5927\u5909\u304a\u624b\u6570\u3092\u304a\u304b\u3051\u3057\u307e\u3059\u304c\u3054\u6307\u6458\u3044\u305f\u3060\u3051\u308c\u3070\u5373\u5ea7\u306b\u8a02\u6b63\u3044\u305f\u3057\u307e\u3059\u3002</p> <p></p>"},{"location":"blog/","title":"Blog","text":""},{"location":"blog/2025/01/11/first-post/","title":"\u521d\u6295\u7a3f","text":"<p>\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8\u9014\u4e2d\u306e\u3082\u306e\u3060\u3063\u305f\u308a\u3001 \u30cd\u30c3\u30c8\u3067\u898b\u3064\u3051\u305f\u4f55\u304b\u9762\u767d\u305d\u3046\u306a\u6280\u8853\u306e\u8a18\u4e8b\u3060\u3063\u305f\u308a\u3001 \u4f55\u304b\u305d\u3093\u306a\u3053\u3068\u3092\u6b8b\u3057\u3066\u304a\u3051\u308b\u3068\u826f\u3044\u306a\u3068\u601d\u3063\u3066 MkDocs Material Blog plugin \u3067\u4f5c\u3063\u3066\u307f\u307e\u3057\u305f\u3002</p>"},{"location":"blog/2025/01/19/kiota-cli-for-generating-an-api-client/","title":"Microsoft \u304c API \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u751f\u6210\u30c4\u30fc\u30eb Kiota \u3092\u63d0\u4f9b\u3057\u3066\u3044\u308b\u3089\u3057\u3044","text":"<p>Kiota \u306e\u30b5\u30a4\u30c8\u307f\u3066\u308b\u3068\u3001 OpenAPI \u306e\u5b9a\u7fa9\u30d5\u30a1\u30a4\u30eb\u304b\u3089\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b3\u30fc\u30c9\u3092\u751f\u6210\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u307f\u305f\u3044\u3002</p> <p>\u4ed6\u306b\u3082\u3044\u308d\u3044\u308d\u3067\u304d\u305d\u3046\u3060\u3051\u3069\u3001\u6642\u9593\u898b\u3064\u3051\u3066\u3061\u3087\u3063\u3068\u52d5\u304b\u3057\u3066\u307f\u305f\u3044\u3002</p>","tags":["Kiota","OpenAPI"]},{"location":"blog/2025/01/19/wvlet-that-is-flow-style-query-language/","title":"Wvlet \u3068\u304b\u3044\u3046\u30d5\u30ed\u30fc\u30b9\u30bf\u30a4\u30eb\u30af\u30a8\u30ea\u8a00\u8a9e","text":"<p>CodeZine \u3092\u898b\u3066\u3066\u3001 Wvlet \u3068\u304b\u3044\u3046\u30af\u30a8\u30ea\u8a00\u8a9e\u3092\u898b\u3064\u3051\u305f\u3002</p> <p>\u300c\u6628\u4eca\u306e\u8907\u96d1\u306a\u30c7\u30fc\u30bf\u5206\u6790\u306e\u30cb\u30fc\u30ba\u306b SQL \u304c\u8ffd\u3044\u3064\u3044\u3066\u306a\u3044\u300d\u3068\u3044\u3046\u3053\u3068\u3067\u3001 \u69cb\u6587\u3092\u81ea\u7136\u306a\u30c7\u30fc\u30bf\u30d5\u30ed\u30fc\u306b\u4e00\u81f4\u3055\u305b\u308b\u3088\u3046\u306a\u8a2d\u8a08\u3092\u3057\u3066\u3044\u308b\u305d\u3046\u306a\u3002</p> <p>\u4f55\u304b\u306b\u4f7f\u3063\u3066\u3044\u3051\u308b\u304b\u3082\uff1f</p>","tags":["Wvlet","Query Language"]},{"location":"blog/2025/02/04/auto-chowning-in-container-with-podman/","title":"Podman \u3067\u8d77\u52d5\u3057\u305f\u30b3\u30f3\u30c6\u30ca\u5185\u306e UID \u3068\u30db\u30b9\u30c8\u304b\u3089\u898b\u305f UID \u304c\u52dd\u624b\u306b\u5909\u308f\u308b\u4ef6\u306b\u3064\u3044\u3066\u8abf\u3079\u3066\u307f\u305f","text":"<p>(2025/02/08) \u8ffd\u8a18</p> <p>\u3044\u308d\u3044\u308d\u8a66\u3057\u3066\u3066\u3001 Workspace \u306e bind mount \u5468\u308a\u306b\u3064\u3044\u3066 \u7406\u89e3\u304c\u8db3\u308a\u306a\u3066\u304b\u3063\u305f\u3068\u3053\u308d\u304c\u3042\u3063\u305f\u306e\u3067\u8ffd\u8a18\u3002</p> <p>\u7d50\u8ad6\u3068\u3057\u3066\u306f\u3001\u81ea\u524d\u306e Dockerfile \u4f5c\u3063\u305f\u308a\u3057\u306a\u304f\u3066\u826f\u304b\u3063\u305f\u3002 \uff08\u307e\u3041\u3001\u666e\u901a\u306b\u8003\u3048\u305f\u3089\u3001 MS \u3055\u3093\u304c\u305d\u3093\u306a\u9762\u5012\u306a\u3053\u3068\u3055\u305b\u308b\u308f\u3051\u3082\u306a\u3044\u304b\u3002\u3002\u3002\uff09</p> <p>Podman in WSL2 \u3067 Devcontainer \u3092\u62f5\u3048\u3088\u3046\u3068\u3057\u3066\u3066\u3001 \u30b3\u30f3\u30c6\u30ca\u5185\u306e\u30e6\u30fc\u30b6\u304c <code>root</code> \u3068\u3044\u3046\u306e\u306f\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u7684\u306b\u3069\u3046\u306a\u306e\u304b\u306a\uff1f\u3063\u3066\u601d\u3063\u305f\u306e\u304c\u30ad\u30c3\u30ab\u30b1\u3002</p> <p>\u305d\u306e\u4e2d\u3067\u3001 bind mount \u3057\u3066\u30b3\u30f3\u30c6\u30ca\u5185\u304b\u3089\u30db\u30b9\u30c8\u5074\u306b\u3082\u30d5\u30a1\u30a4\u30eb\u3092\u6b8b\u305d\u3046\u3068\u66f8\u304d\u51fa\u3059\u3068\u3001 \u306a\u305c\u304b\u30b3\u30f3\u30c6\u30ca\u5185\u306e UID/GID \u3068\u7570\u306a\u308b\u30aa\u30fc\u30ca\u3067\u30d5\u30a1\u30a4\u30eb\u304c\u4fdd\u5b58\u3055\u308c\u305f\u308a\u3001 \u7de8\u96c6\u3057\u3088\u3046\u3068\u3059\u308b\u3068 <code>Permission Denied</code> \u3063\u3066\u6012\u3089\u308c\u305f\u308a\u3059\u308b\u3002</p> <p>\u300c\u4f55\u3067\u3053\u3093\u306a\u3053\u3068\u306a\u308b\u306e\uff1f\u300d\u3063\u3066\u601d\u3063\u3066\u3001 Podman \u3067\u4f5c\u3063\u305f\u30b3\u30f3\u30c6\u30ca\u306b\u3064\u3044\u3066\u8abf\u3079\u3066\u307f\u3066\u305f\u3089\u3001 \u3069\u3046\u3084\u3089\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u6319\u52d5\u3092\u3057\u3066\u308b\u3063\u307d\u3044\u3002</p> <ul> <li> <p>Dockerfile \u3068\u304b\u3067 <code>USER</code> \u672a\u6307\u5b9a\u3082\u3057\u304f\u306f <code>USER root</code> \u3067\u52d5\u3044\u3066\u3044\u308b\u3088\u3046\u306a\u30b3\u30f3\u30c6\u30ca\u306e\u5834\u5408\u3001     <code>root</code> \u3067\u52d5\u3044\u3066\u308b\u306e\u306b\u3001\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u3063\u305f\u308a\u3059\u308b\u3068 WSL \u306e\u4e00\u822c\u30e6\u30fc\u30b6\u306e\u30d1\u30fc\u30df\u30c3\u30b7\u30e7\u30f3\u306b\u306a\u3063\u3066\u3044\u308b</p> </li> <li> <p>\u30b3\u30f3\u30c6\u30ca\u5185\u3067 UID (UserID) \u304c <code>1000</code> \u306e\u30e6\u30fc\u30b6\u3067\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u308b\u3068\u3001     \u30b3\u30f3\u30c6\u30ca\u306e\u5916\u3067\u306f <code>100999</code> \u3068\u304b\u6841\u9055\u3044\u306a UID \u3067\u30d5\u30a1\u30a4\u30eb\u304c\u51fa\u6765\u4e0a\u304c\u3063\u305f\u308a\u3059\u308b</p> </li> </ul>","tags":["Container","Devcontainer","Podman","WSL"]},{"location":"blog/2025/02/04/auto-chowning-in-container-with-podman/#\u7d50\u8ad6","title":"\u7d50\u8ad6","text":"<p>Linux \u30ab\u30fc\u30cd\u30eb\u306e\u30e6\u30fc\u30b6\u540d\u524d\u7a7a\u9593\u306e\u4ed5\u7d44\u307f\u3067\u5236\u5fa1\u3055\u308c\u3066\u3044\u308b\u3063\u307d\u3044\u3002 RedHat \u30d6\u30ed\u30b0 \u3084 \u8d64\u5e3d\u30a8\u30f3\u30b8\u30cb\u30a2\u30d6\u30ed\u30b0 \u306b\u3068\u3063\u3066\u3082\u8a73\u3057\u304f\u66f8\u3044\u3066\u307e\u3057\u305f\u3002</p> <p>\u30b3\u30f3\u30c6\u30ca\u5185\u306e UID/GID \u3068\u30db\u30b9\u30c8\u304b\u3089\u898b\u305f UID/GID \u3092\u4e0a\u624b\u304f\u30de\u30c3\u30d4\u30f3\u30b0\u3055\u305b\u308b\u3053\u3068\u3067 \u30b3\u30f3\u30c6\u30ca\u5185\u3067\u306f\u3044\u308d\u3044\u308d\u51fa\u6765\u308b\u3051\u3069\u3001\u30db\u30b9\u30c8\u5074\u306b\u306f\u5f71\u97ff\u3055\u305b\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u4ed5\u7d44\u307f\u306a\u306e\u3067\u3057\u3087\u3046\u306d\u3002 \u4e0d\u52c9\u5f37\u3067\u5168\u7136\u77e5\u3089\u306a\u304b\u3063\u305f\u3002\u3002\u3002</p>","tags":["Container","Devcontainer","Podman","WSL"]},{"location":"blog/2025/02/04/auto-chowning-in-container-with-podman/#\u52dd\u624b\u306b-uid-\u304c\u5909\u308f\u3089\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u65b9\u6cd5","title":"\u52dd\u624b\u306b UID \u304c\u5909\u308f\u3089\u306a\u3044\u3088\u3046\u306b\u3059\u308b\u65b9\u6cd5","text":"<p>\u304b\u3068\u8a00\u3063\u3066\u3001\u5192\u982d\u306e\u3088\u3046\u306b\u3001 \u30db\u30b9\u30c8\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092 bind mount \u3057\u3066\u53cc\u65b9\u5411\u306b\u3084\u308a\u53d6\u308a\u3057\u305f\u3044\u306a\u3041\u3063\u3066\u6642\u306b\u306f \u3053\u306e\u4ed5\u7d44\u307f\u306f\u3061\u3087\u3063\u3068\u4e0d\u4fbf\u3002</p> <p>\u305d\u3093\u306a\u6642\u306f\u3001\u30b3\u30f3\u30c6\u30ca\u8d77\u52d5\u6642\u306b <code>--userns=keep-id</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4ed8\u3051\u308b\u3068\u826f\u3044\u307f\u305f\u3044\u3002 \u3082\u3057\u304f\u306f\u3001\u74b0\u5883\u5909\u6570 <code>PODMAN_USERNS=keep-id</code> \u3092\u6709\u52b9\u306b\u3057\u305f\u4e0a\u3067\u8d77\u52d5\u3059\u308b\u3002 \u6bce\u56de\u6307\u5b9a\u3059\u308b\u306e\u304c\u9762\u5012\u306a\u5834\u5408\u306f <code>~/.config/containers/containers.conf</code> \u30d5\u30a1\u30a4\u30eb\u3092 \u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5185\u5bb9\u3067\u4f5c\u6210\u3059\u308b\u3002</p> ~/.config/containers/containers.json<pre><code>[containers]\nuserns = \"keep-id\"\n</code></pre> <p>2025/02/08 \u8ffd\u8a18 \u305d\u306e2</p> <p><code>~/.config/containers/containers.conf</code> \u3067\u3001\u5168\u30b3\u30f3\u30c6\u30ca\u306b\u5bfe\u3057\u3066\u63d0\u4f9b\u3057\u3066\u3057\u307e\u3046\u3068\u3001 \u305f\u3068\u3048\u3070 docker.io/library/nginx \u306e\u3088\u3046\u306b 80/tcp \u3067 LISTEN \u3057\u3088\u3046\u3068\u3059\u308b\u30d7\u30ed\u30bb\u30b9\u306f <code>root</code> \u6a29\u9650\u304c\u5fc5\u8981\u3068\u306a\u308b\u305f\u3081\u3001\u30b3\u30f3\u30c6\u30ca\u304c\u8d77\u52d5\u3057\u306a\u304f\u306a\u3063\u3066\u3057\u307e\u3046\u3002</p> <p>\u306a\u306e\u3067\u3001\u57fa\u672c\u7684\u306b\u306f <code>--userns=keep-id</code> \u3084\u74b0\u5883\u5909\u6570 <code>PODMAN_USERNS=keep-id</code> \u3092\u6307\u5b9a\u3057\u3066 \u30db\u30b9\u30c8\u5074\u3068\u3084\u308a\u53d6\u308a\u3057\u305f\u3044\u30b3\u30f3\u30c6\u30ca\u3060\u3051\u306b\u9069\u7528\u3059\u308b\u306e\u304c\u671b\u307e\u3057\u3044\u304b\u3082\u3002</p>","tags":["Container","Devcontainer","Podman","WSL"]},{"location":"blog/2025/02/04/auto-chowning-in-container-with-podman/#devcontainer-\u3067-root-\u4ee5\u5916\u3067-workspace-\u3068-bind-mount-\u3057\u305f\u3044","title":"Devcontainer \u3067 root \u4ee5\u5916\u3067 workspace \u3068 bind mount \u3057\u305f\u3044","text":"<p>Devcontainer \u3067 <code>root</code> \u4ee5\u5916\u306e\u30e6\u30fc\u30b6\u3067\u4f5c\u696d\u3057\u3064\u3064\u3001\u30db\u30b9\u30c8\u5074\u306e \u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9\u3092 bind mount \u3059\u308b\u5834\u5408\u306f\u3001 <code>userns</code> \u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u3044\u3058\u308b\u3060\u3051\u3067\u306f\u8db3\u308a\u306a\u3044\u3002 <code>devcontainer.json</code> \u306e <code>containerUser</code> \u306b\u3001\u30db\u30b9\u30c8\u5074\u3068\u540c\u3058 UID/GID \u3092\u6301\u3063\u305f\u30b3\u30f3\u30c6\u30ca\u5185\u306e\u30e6\u30fc\u30b6\u540d\u3092 \u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002 \u5927\u4f53\u306e\u5834\u5408\u3001 WSL \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6642\u306b\u4f5c\u6210\u3057\u305f\u30e6\u30fc\u30b6\u306f UID/GID \u5171\u306b 1000 \u306e\u306f\u305a\u306a\u306e\u3067\u3001 \u30b3\u30f3\u30c6\u30ca\u5185\u306e\u30e6\u30fc\u30b6\u3082 UID/GID \u304c 1000 \u306e\u3082\u306e\u3092\u6307\u5b9a\u3059\u308c\u3070\u826f\u3044\u3002</p> <p>\u4f8b\u3048\u3070\u3001 Microsoft \u304c\u63d0\u4f9b\u3057\u3066\u3044\u308b vscode-devcontainers \u3068\u304b\u306f\u3001 Commons Utilities \u3092\u4f7f\u3063\u3066 <code>vscode (UID/GID=1000)</code> \u306e \u30e6\u30fc\u30b6\u3092\u7528\u610f\u3057\u3066\u304f\u308c\u3066\u3044\u308b<sup>1</sup> \u306e\u3067\u3001 <code>\"containerUser\": \"vscode\"</code> \u3092\u6307\u5b9a\u3059\u308b\u3068\u826f\u3044\u3002</p>","tags":["Container","Devcontainer","Podman","WSL"]},{"location":"blog/2025/02/04/auto-chowning-in-container-with-podman/#20250208-\u8ffd\u8a18\u7248-\u5b9f\u969b\u306e\u6210\u529f\u4f8b","title":"(2025/02/08 \u8ffd\u8a18\u7248) \u5b9f\u969b\u306e\u6210\u529f\u4f8b","text":"<p><code>userns</code> \u3092\u8a2d\u5b9a\u6e08\u3067\u3042\u308c\u3070\u3001\u4ee5\u4e0b\u306e\u5185\u5bb9\u3067 devcontainer \u2194\ufe0f \u30b3\u30f3\u30c6\u30ca\u9593\u3067\u30d5\u30a1\u30a4\u30eb\u306e\u8aad\u307f\u66f8\u304d\u304c\u3067\u304d\u308b\u306f\u305a\u3002 \u4eca\u56de\u306f Microsoft \u304b\u3089\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b devcontainers/base \u306e dev-bullseye (Debian 11) \u3092\u5229\u7528\u3057\u305f\u3001\u304a\u305d\u3089\u304f\u3069\u306e OS \u30a4\u30e1\u30fc\u30b8\u3067\u3082\u540c\u69d8\u306b <code>vscode</code> \u30e6\u30fc\u30b6\u304c\u4f7f\u3048\u308b\u3068\u601d\u3046\u3002</p> .devcontainer/devcontainer.json<pre><code>{\n    \"name\": \"Test\",\n\n    \"image\": \"mcr.microsoft.com/vscode/devcontainers/base:bullseye\",\n\n    // \u4eca\u56de\u306f vscode \u30e6\u30fc\u30b6\u76f4\u4e0b\u306b workspace \u3068\u3044\u3046\u30d5\u30a9\u30eb\u30c0\u306b bind mount \u3055\u305b\u3066\u3044\u308b\n    \"workspaceFolder\": \"/home/vscode/workspace\",\n    \"workspaceMount\": \"source=${localWorkspaceFolder},target=/home/vscode/workspace,type=bind\",\n\n    // userns=keep-id \u3092\u6307\u5b9a\u3059\u308b\n    \"runArgs\": [\n        \"--userns\", \"keep-id\"\n    ],\n\n    \"containerUser\": \"vscode\"\n}\n</code></pre> <p>(2025/02/08) \u8ffd\u8a18</p> <p>\u4ee5\u964d\u306e\u5185\u5bb9\u306f\u4e0d\u8981\u3067\u3057\u305f (\u305f\u3060\u3001\u305b\u3063\u304b\u304f\u8abf\u67fb\u3057\u305f\u8a18\u9332\u306a\u306e\u3067\u3001\u6b8b\u3057\u3066\u304a\u304d\u307e\u3059)\u3002</p> <p>\u305f\u3068\u3048\u3070\u3001 \u30b3\u30f3\u30c6\u30ca\u5185\u306e\u30e6\u30fc\u30b6\u306e\u4f5c\u6210\u306b\u3064\u3044\u3066\u3067\u8a18\u8f09\u3057\u3066\u3044\u308b Commons Utilities \u306a\u3093\u304b\u306f\u3001\u524d\u8ff0\u306e\u901a\u308a<sup>1</sup>\u3059\u3067\u306b\u53d6\u308a\u8fbc\u307e\u308c\u3066\u3044\u307e\u3059\u3002</p>","tags":["Container","Devcontainer","Podman","WSL"]},{"location":"blog/2025/02/04/auto-chowning-in-container-with-podman/#\u3084\u308a\u65b9","title":"\u3084\u308a\u65b9","text":"<p>\u7d50\u8ad6\u304b\u3089\u8a00\u3048\u3070\u3001\u4ee5\u4e0b\u304c\u5fc5\u8981\u306b\u306a\u308b\u3002</p> <ul> <li>Dockerfile \u306e\u672b\u5c3e\u306e <code>USER UID[:GID]</code> \u306b\u4e0a\u8a18\u306e UID/GID \u3092\u6307\u5b9a\u3059\u308b</li> <li>\u30b3\u30f3\u30c6\u30ca\u5185\u306b\u3001 WSL \u30e6\u30fc\u30b6\u3068\u540c\u3058 UID/GID \u3092\u6301\u3064\u30e6\u30fc\u30b6\u3092\u4f5c\u3063\u3066\u304a\u304f</li> </ul>","tags":["Container","Devcontainer","Podman","WSL"]},{"location":"blog/2025/02/04/auto-chowning-in-container-with-podman/#dockerfile-\u306e-user-\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u6307\u5b9a\u306b\u3064\u3044\u3066","title":"Dockerfile \u306e USER \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u6307\u5b9a\u306b\u3064\u3044\u3066","text":"<p>Devcontainer \u306e\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u30d3\u30eb\u30c9\u6642\u306e\u6319\u52d5\u3092\u8abf\u3079\u3066\u307f\u308b\u3068\u3001 \u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30b3\u30de\u30f3\u30c9\u3067\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3057\u3088\u3046\u3068\u3057\u3066\u3044\u305f (\u4e00\u90e8\u306e\u30d1\u30e9\u30e1\u30fc\u30bf\u3060\u3051\u629c\u7c8b)\u3002</p> <pre><code>podman buildx build\n  ...snip...\n  -f /tmp/.../Dockerfile-with-features  # (1)!\n  --build-arg _DEV_CONTAINERS_IMAGE_USER=root  # (2)!\n  ...snip...\n</code></pre> <ol> <li>\u81ea\u52d5\u7684\u306b\u5408\u6210\u3055\u308c\u305f\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u306e\u5b9a\u7fa9\u30d5\u30a1\u30a4\u30eb</li> <li>\u5b9a\u7fa9\u30d5\u30a1\u30a4\u30eb\u306e\u672b\u5c3e\u306b\u3042\u308b <code>USER</code> \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u5f15\u6570\u3068\u3057\u3066\u4f7f\u7528 (\u5b9a\u7fa9\u304c\u306a\u3044\u3068 <code>root</code> \u3092\u6307\u5b9a)</li> </ol> <p>\u4f8b\u3048\u3070\u3001 <code>devcontainer.json</code> \u3067\u6307\u5b9a\u3057\u305f\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u306e\u672b\u5c3e\u306e <code>USER</code> \u304c <code>1000:1000</code> \u3068\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u305f\u5834\u5408\u3001 \u5408\u6210\u3055\u308c\u305f\u5b9a\u7fa9\u30d5\u30a1\u30a4\u30eb\u306e\u4e2d\u8eab\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u304a\u308a\u3001</p> \u5408\u6210\u3055\u308c\u305f\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u5b9a\u7fa9\u30d5\u30a1\u30a4\u30eb\u629c\u7c8b<pre><code># ---- \u30b3\u30b3\u304b\u3089\nUSER 1000:1000\n# ---- \u30b3\u30b3\u307e\u3067\u304c devcontainers.json \u3067\u6307\u5b9a\u3057\u305f\u30a4\u30e1\u30fc\u30b8\u306e\u4e2d\u8eab\n\n...snip...\n\nARG _DEV_CONTAINERS_IMAGE_USER=root\nUSER $_DEV_CONTAINERS_image_user\n...snip...\n</code></pre> <p>\u30d3\u30eb\u30c9\u6642\u306e\u5f15\u6570\u3082 <code>--build-arg _DEV_CONTAINERS_IMAGE_USER=1000:1000</code> \u3068\u306a\u308b\u3002</p>","tags":["Container","Devcontainer","Podman","WSL"]},{"location":"blog/2025/02/04/auto-chowning-in-container-with-podman/#\u30b3\u30f3\u30c6\u30ca\u5185\u306e\u30e6\u30fc\u30b6\u306e\u4f5c\u6210\u306b\u3064\u3044\u3066","title":"\u30b3\u30f3\u30c6\u30ca\u5185\u306e\u30e6\u30fc\u30b6\u306e\u4f5c\u6210\u306b\u3064\u3044\u3066","text":"<p>\u81ea\u5206\u3067\u9811\u5f35\u3063\u3066 Dockerfile \u5185\u306b <code>useradd</code> \u3068\u304b\u3057\u3066\u4f5c\u3063\u3066\u3082\u826f\u3044\u306e\u3060\u3051\u3069\u3001 <code>sudo</code> \u3082\u3055\u305b\u305f\u3044\u3068\u304b\u8003\u3048\u51fa\u3059\u3068\u3044\u308d\u3044\u308d\u3068\u5927\u5909\u3002\u3002\u3002</p> <p>\u305d\u3093\u306a\u6642\u306f\u3001 Dev Container Features \u306b\u3042\u308b Commons Utilities \u3092\u4f7f\u3046\u3068 \u7c21\u5358\u306b\u30e6\u30fc\u30b6\u4f5c\u6210\u3068\u304b <code>sudoer</code> \u306e\u8a2d\u5b9a\u3092\u3057\u3066\u304f\u308c\u308b\u512a\u308c\u30e2\u30ce\u3002</p> <p><code>devcontainer.json</code> \u306e <code>features</code> \u306b\u4ee5\u4e0b\u306e\u5b9a\u7fa9\u3092\u52a0\u3048\u3066\u3042\u3052\u308c\u3070 OK \u3002</p> .devcontainer/devcontainer.json \u306e\u629c\u7c8b<pre><code>    ...snip...\n    \"features\": {\n        \"ghcr.io/devcontainers/features/common-utils:2\": {\n            // \"installZsh\": \"false\",\n            // \"installOhMyZsh\": \"false\",\n            // \"installOhMyZshConfig\": \"false\",\n            \"username\": \"vscode\",\n            \"userUid\": \"1000\",\n            \"userGid\": \"1000\"\n        }\n    },\n    ...snip...\n</code></pre> <p>\u4e0a\u8a18\u306e\u3088\u3046\u306b\u3001\u30e6\u30fc\u30b6\u540d\u3068 UID/GID \u3092\u6307\u5b9a\u3057\u3066\u4e0a\u3052\u308c\u3070\u3001 \u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3059\u308b\u969b\u306b\u81ea\u52d5\u7684\u306b\u5408\u6210\u3057\u3066\u304f\u308c\u3066\u30e6\u30fc\u30b6\u3092\u4f5c\u3063\u3066\u304f\u308c\u308b\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f ZSH \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3088\u3046\u306a\u306e\u3067\u3001 \u4e0d\u8981\u3067\u3042\u308c\u3070\u4e0a\u8a18\u306e\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u7b87\u6240\u3092\u89e3\u9664\u3059\u308c\u3070\u826f\u3044\u3002</p>","tags":["Container","Devcontainer","Podman","WSL"]},{"location":"blog/2025/02/04/auto-chowning-in-container-with-podman/#\u5b9f\u969b\u306e\u6210\u529f\u4f8b","title":"\u5b9f\u969b\u306e\u6210\u529f\u4f8b","text":"<p>\u4ee5\u4e0a\u306e3\u3064\u304c\u6574\u3048\u3070\u3001 Devcontainer \u3092 <code>root</code> \u4ee5\u5916\u3067\u4f5c\u696d\u3057\u3064\u3064\u3001 WSL \u74b0\u5883\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u3063\u3066\u76f8\u4e92\u4f5c\u696d\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u306f\u305a\u3002</p> <p>\u5b9f\u969b\u306b\u3056\u3063\u304f\u308a\u8a66\u3057\u305f\u74b0\u5883\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002\u30b3\u30f3\u30c6\u30ca\u5185\u306e\u30e6\u30fc\u30b6\u306f <code>vscode (uid=1000, gid=1000)</code> \u306b\u3057\u3066\u3044\u307e\u3059\u3002</p> .devcontainer/Dockerfile<pre><code>FROM mcr.microsoft.com/vscode/devcontainers/base:bullseye\n\nUSER 1000:1000\n</code></pre> .devcontainer/devcontainer.json<pre><code>{\n    \"name\": \"Test\",\n\n    \"build\": {\n        \"dockerfile\": \"./Dockerfile\",\n        \"context\": \".\"\n    },\n\n    \"workspaceFolder\": \"/home/vscode/workspace\",\n    \"workspaceMount\": \"source=${localWorkspaceFolder},target=/home/vscode/workspace,type=bind\",\n\n    \"features\": {\n        \"ghcr.io/devcontainers/features/common-utils:2\": {\n            \"installZsh\": \"false\",\n            \"installOhMyZsh\": \"false\",\n            \"installOhMyZshConfig\": \"false\",\n            \"upgradePackages\": \"true\",\n            \"username\": \"vscode\",\n            \"userUid\": \"1000\",\n            \"userGid\": \"1000\"\n        }\n    }\n}\n</code></pre> <ol> <li> <p>https://github.com/devcontainers/images/blob/4fd0a81cc6442d2d2c95a1380fd21de203d60d1b/src/base-debian/.devcontainer/devcontainer.json#L7-L13 \u21a9\u21a9</p> </li> </ol>","tags":["Container","Devcontainer","Podman","WSL"]},{"location":"blog/2025/02/08/devcontainer-with-networking/","title":"Devcontainer \u7528\u306e\u30b3\u30f3\u30c6\u30ca\u30cd\u30c3\u30c8\u30ef\u30fc\u30af","text":"<p>\u5404\u3005\u306e Devcontainer \u306f\u500b\u5225\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u7a7a\u9593\u306b\u9589\u3058\u3089\u308c\u3066\u3057\u307e\u3046\u3002 \u3082\u3057\u5225\u30b3\u30f3\u30c6\u30ca\u306e\u30b5\u30fc\u30d0\u30d7\u30ed\u30bb\u30b9\u3068\u9023\u643a\u3055\u305b\u305f\u3044\u5834\u5408\u306f\u3001 \u5225\u9014\u30b3\u30f3\u30c6\u30ca\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3092\u7528\u610f\u3057\u3066\u540c\u4e00\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u4e0a\u306b\u30b3\u30f3\u30c6\u30ca\u3092\u4f5c\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002</p> <p>\u3059\u3067\u306b\u5e0c\u671b\u3059\u308b\u30b3\u30f3\u30c6\u30ca\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u304c\u5b58\u5728\u3057\u3066\u308b\u306e\u3067\u3042\u308c\u3070\u3001 <code>.devcontainer/devcontainer.json</code> \u306e <code>runArgs</code> \u306b <code>podman</code> (\u3082\u3057\u304f\u306f <code>docker</code>) \u30b3\u30de\u30f3\u30c9\u306e <code>--network</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308c\u3070 OK\u3002</p> .devcontainer/devcontainer.json<pre><code>    ...snip...\n    \"runArgs\": [\n        \"--network\", \"devnet\" // (1)!\n    ],\n    ...snip...\n</code></pre> <ol> <li>\u30b3\u30b3\u3067\u306f devnet \u3068\u3044\u3046\u540d\u524d\u306b\u3057\u3066\u3044\u308b</li> </ol> <p>\u305f\u3060\u3001\u4e8b\u524d\u306b\u7528\u610f\u3059\u308b\u305f\u3081\u306e\u30b3\u30de\u30f3\u30c9\u3092\u3044\u3061\u3044\u3061\u6253\u3064\u306e\u3082\u30e1\u30f3\u30c9\u30a6\u306a\u306e\u3067\u3001 \u540c\u3058\u304f <code>initializeCommand</code> \u306b\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u5b58\u5728\u3092\u30c1\u30a7\u30c3\u30af\u3057\u3066\u7121\u3051\u308c\u3070\u4f5c\u6210\u3059\u308b\u30b3\u30de\u30f3\u30c9\u3092\u6307\u5b9a\u3057\u3066\u304a\u304f\u3068\u4fbf\u5229\u3002</p> .devcontainer/devcontainer.json<pre><code>    ...snip...\n    \"runArgs\": [\n        \"--network\", \"devnet\"\n    ],\n\n    \"initializeCommand\": \"podman network ls --noheading \\\\\n        | awk '{print $2}' | grep -q devnet || podman network create devnet\",\n    ...snip...\n</code></pre> <p>\u52d5\u4f5c\u78ba\u8a8d\u7528\u306b NGINX \u3092\u5b9f\u884c\u3057\u3066\u307f\u308b\u3002</p> <pre><code>podman run --rm -d \\\n    --name text-nginx \\\n    docker.io/library/nginx:latest # (1)!\n</code></pre> <ol> <li>\u30b3\u30f3\u30c6\u30ca\u540d\u306f\u4f55\u3067\u3082\u826f\u3044\u304c\u3001 <code>test-nginx</code> \u3068\u3057\u305f</li> </ol> <p>\u5148\u307b\u3069\u8d77\u52d5\u3057\u3066\u3044\u308b Devcontainer \u304b\u3089\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001 \u3061\u3083\u3093\u3068\u3001\u30b3\u30f3\u30c6\u30ca <code>text-nginx</code> \u306e NGINX \u304b\u3089\u5fdc\u7b54\u304c\u6765\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u308b\u3002</p> <pre><code>(devcontainer)$ curl -I test-nginx\nHTTP/1.1 200 OK\nServer: nginx/x.y.z\n...snip...\n</code></pre>","tags":["Container","Devcontainer","Podman","WSL"]},{"location":"blog/2025/02/09/kind-with-podman-in-wsl/","title":"Podman in WSL \u3067 kind \u3092\u4f7f\u3063\u3066 Kubernetes \u3067\u904a\u3073\u305f\u3044","text":"<p>Kubernetes \u3067\u904a\u3076\u306b\u306f\u3044\u308d\u3093\u306a\u4fbf\u5229\u306a\u3082\u306e\u304c\u3042\u308b\u3051\u3069\u3001 \u4eca\u56de\u306f kind \u3092\u4f7f\u3063\u3066\u74b0\u5883\u69cb\u7bc9\u3092\u8a66\u3057\u3066\u307f\u308b\u3002</p> <p>Info</p> <ul> <li>OS: Windows 11 Pro 23H2</li> <li>WSL: Ubuntu 24.04.01 LTS</li> <li>Podman: v4.9.3 (\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u624b\u9806\u306f\u30b3\u30c1\u30e9)</li> </ul> <p>\u307e\u305a\u306f\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u5f93\u3063\u3066 <code>kind</code> \u30b3\u30de\u30f3\u30c9\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002</p> <pre><code># For AMD64 / x86_64\n[ $(uname -m) = x86_64 ] &amp;&amp; curl -Lo ./kind https://kind.sigs.k8s.io/dl/v0.26.0/kind-linux-amd64\n# For ARM64\n[ $(uname -m) = aarch64 ] &amp;&amp; curl -Lo ./kind https://kind.sigs.k8s.io/dl/v0.26.0/kind-linux-arm64\nchmod +x ./kind\nsudo mv ./kind /usr/local/bin/kind\n</code></pre> <p>\u3055\u3063\u305d\u304f\u8d77\u52d5\u3057\u3066\u307f\u308b\u3002\u304c\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u304c\u3067\u305f\u3002 WSL2 \u3067\u306f\u3001\u4e92\u63db\u6027\u306e\u305f\u3081 cgoupv1 \u3092\u4f7f\u3063\u3066\u3044\u308b\u3088\u3046\u306a\u306e\u3067\u3001 \u307e\u305a\u306f WSL2 \u3092 cgroupv2 \u3067\u52d5\u304b\u3057\u3066\u3042\u3052\u308b\u5fc5\u8981\u304c\u3042\u308b\u307f\u305f\u3044\u3002</p> <pre><code>$ kind create cluster\nenabling experimental podman provider\nERROR: failed to create cluster: running kind with rootless provider requires cgroup v2, see https://kind.sigs.k8s.io/docs/user/rootless/\n</code></pre> <p>cgroupv2 \u306b\u3059\u308b\u306b\u306f\u3001 Windows \u5074\u3067 <code>%USERPROFILE\\.wslconfig</code> \u306b\u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u8ffd\u52a0\u3059\u308b\u3002</p> <p><code>/etc/wsl.conf</code> \u3068 <code>%USERPROFILE%\\.wslconfig</code> \u306e\u9055\u3044</p> <p>Windows \u30db\u30b9\u30c8\u5074\u306e <code>%USERPROFILE%\\.wslconfig</code> \u306f\u3001WSL \u5168\u4f53\u306e\u30b0\u30ed\u30fc\u30d0\u30eb\u8a2d\u5b9a\u7528\u3002 \u8a73\u3057\u304f\u306f MS \u516c\u5f0f\u30b5\u30a4\u30c8 \u53c2\u7167\u3002</p> %USERPROFILE%\\.wslconfig<pre><code>[wsl2]\nkernelCommandLine = cgroup_no_v1=all\n</code></pre> <p>\u30d5\u30a1\u30a4\u30eb\u4f5c\u6210\u3092\u7d42\u3048\u305f\u3089\u3001\u4e00\u65e6 WSL \u3092\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u3057\u3066\u8d77\u52d5\u3057\u306a\u304a\u3059\u3002</p> <pre><code>wsl --shutdown\n</code></pre> <p>\u8d77\u52d5\u3057\u306a\u304a\u3057\u305f\u5f8c\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066 <code>cgroup2fs</code> \u3068\u51fa\u308c\u3070 OK\u3002</p> <pre><code>$ stat -fc %T /sys/fs/cgroup/\ncgroup2fs\n</code></pre> <p>\u3082\u3046\u4e00\u5ea6 kind \u30af\u30e9\u30b9\u30bf\u3092\u4f5c\u6210\u3057\u3066\u4e0a\u624b\u304f\u3044\u3051\u3070 OK\u3002</p> <pre><code>$ kind create cluster\nenabling experimental podman provider\nCreating cluster \"kind\" ...\n \u2713 Ensuring node image (kindest/node:v1.32.0) \ud83d\uddbc\n \u2713 Preparing nodes \ud83d\udce6\n \u2713 Writing configuration \ud83d\udcdc\n \u2713 Starting control-plane \ud83d\udd79\ufe0f\n \u2713 Installing CNI \ud83d\udd0c\n \u2713 Installing StorageClass \ud83d\udcbe\nSet kubectl context to \"kind-kind\"\nYou can now use your cluster with:\n\nkubectl cluster-info --context kind-kind\n\nHave a question, bug, or feature request? Let us know! https://kind.sigs.k8s.io/#community \ud83d\ude42\n</code></pre> <p>\u51fa\u529b\u306b\u51fa\u3066\u3044\u308b\u901a\u308a\u3001 <code>kubectl cluster-info</code> \u30b3\u30de\u30f3\u30c9\u3067\u52d5\u4f5c\u78ba\u8a8d\u3057\u3066\u307f\u308b\u3002</p> <pre><code>$ kubectl cluster-info --context kind-kind\nKubernetes control plane is running at https://127.0.0.1:36217\nCoreDNS is running at https://127.0.0.1:36217/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy\n\nTo further debug and diagnose cluster problems, use 'kubectl cluster-info dump'.\n</code></pre> <p>\u7121\u4e8b\u30af\u30e9\u30b9\u30bf\u304c\u52d5\u3044\u3066\u305d\u3046\u3002 <code>kubectl get</code> \u306a\u3069\u3067\u3001\u4ed6\u306e\u60c5\u5831\u3082\u78ba\u8a8d\u3067\u304d\u305f\u3002</p> <pre><code>$ kubectl get nodes\nNAME                STATUS  ROLES           AGE   VERSION\nkind-control-plane  Ready   control-plane   14m   v1.32.0\n</code></pre>","tags":["Container","CGroup","Devcontainer","Kubernetes","kind","Podman","WSL"]},{"location":"blog/2025/02/10/kind-with-podman-in-wsl/","title":"Podman in WSL \u3067 k3d \u3092\u4f7f\u3063\u3066 Kubernetes \u3067\u904a\u3073\u305f\u3044","text":"<p>\u524d\u56de\u306f kind \u3092\u4f7f\u3063\u3066 Kubernetes \u30af\u30e9\u30b9\u30bf\u3092\u69cb\u7bc9\u3057\u3066\u307f\u305f\u3051\u3069\u3001 \u4eca\u5ea6\u306f k3d \u3092\u4f7f\u3063\u3066\u74b0\u5883\u69cb\u7bc9\u3092\u8a66\u3057\u3066\u307f\u308b\u3002</p> <p>Info</p> <ul> <li>OS: Windows 11 Pro 23H2</li> <li>WSL: Ubuntu 24.04.01 LTS</li> <li>Podman: v4.9.3 (\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u624b\u9806\u306f\u30b3\u30c1\u30e9)</li> </ul> <p>\u307e\u305a\u306f\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u5f93\u3063\u3066 <code>k3d</code> \u30b3\u30de\u30f3\u30c9\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3002</p> <pre><code>curl -s https://raw.githubusercontent.com/k3d-io/k3d/main/install.sh | bash\n</code></pre> <p>\u524d\u56de\u306e kind \u306e\u6642\u3068\u540c\u69d8\u3001 WSL2 \u3067 CGroupv2 \u306b\u306a\u3063\u3066\u306a\u3044\u5834\u5408\u306f\u3001 \u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u3066\u3001 <code>wsl --shutdown</code> \u3092\u5b9f\u884c\u3057\u3066 WSL \u3092\u518d\u8d77\u52d5\u3057\u3066\u304a\u304f\u3002</p> %USERPROFILE%\\.wslconfig<pre><code>[wsl2]\nkernelCommandLine = cgroup_no_v1=all\n</code></pre> <p>\u3067\u306f\u3001\u3055\u3063\u305d\u304f k3d \u30af\u30e9\u30b9\u30bf\u3092\u4f5c\u6210\u3057\u3066\u307f\u308b\u3002\u304c\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30a8\u30e9\u30fc\u304c\u3067\u305f\u3002 k3d \u306f\u56fa\u5b9a\u3067 Docker \u306e Socket \u30d5\u30a1\u30a4\u30eb\u3092\u53c2\u7167\u3057\u3088\u3046\u3068\u3059\u308b\u307f\u305f\u3044\u3002</p> <pre><code>$ k3d cluster create test\n   :\nERRO[0000] Failed to get nodes for cluster 'test': ...omit...: Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?\n   :\n</code></pre> <p>\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u74b0\u5883\u5909\u6570 <code>DOCKER_HOST</code> \u306b podman \u306e Socket \u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3057\u3066\u307f\u308b\u3002</p> <p>Warning</p> <p>Podman \u306e Socket \u30d5\u30a1\u30a4\u30eb\u304c\u5b58\u5728\u3057\u306a\u3044\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3002</p> <pre><code>mkdir -p ~/.config/systemd/user/;\nsudo cp /usr/lib/systemd/user/podman.{service,socket} ~/.config/systemd/user/;\nsystemctl --user daemon-reload\n</code></pre> <pre><code>export DOCKER_HOST=\"unix:///run/user/$(id -u)/podman/podman.sock\"\n</code></pre> <p>\u3082\u3046\u4e00\u5ea6\u30af\u30e9\u30b9\u30bf\u4f5c\u6210\u3092\u8a66\u307f\u308b\u304c\u3001\u307e\u3060 Docker \u306e Socket \u30d5\u30a1\u30a4\u30eb\u3067\u30a8\u30e9\u30fc\u304c\u51fa\u308b\u3002</p> <pre><code>$ k3d cluster create test\n   :\nERRO[0006] failed to ensure tools node: failed to run k3d-tools node for cluster 'test': ...omit...: mkdir /var/run/docker.sock: permission denied\n   :\n</code></pre> <p>\u30aa\u30d7\u30b7\u30e7\u30f3\u306e <code>--trace</code> \u3092\u6709\u52b9\u306b\u3057\u3066\u8a73\u7d30\u306a\u30ed\u30b0\u3092\u898b\u3066\u307f\u308b\u3068\u3001 \u74b0\u5883\u5909\u6570 <code>DOCKER_SOCK</code> \u3068\u3044\u3046\u306e\u3082\u53c2\u7167\u3057\u3066\u3044\u308b\u307f\u305f\u3044\u3002</p> <pre><code>$ k3d cluster create test --trace\nDEBU[0001] DOCKER_SOCK=/var/run/docker.sock\n   :\n</code></pre> <p>\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u3082\u3046\u4e00\u5ea6\u74b0\u5883\u5909\u6570\u3092\u8a2d\u5b9a\u3059\u308b (<code>DOCKER_SOCK</code> \u306b\u306f <code>unix://</code> \u306e\u30b9\u30ad\u30fc\u30e0\u306f\u4e0d\u8981)\u3002</p> <pre><code>export DOCKER_SOCK=${DOCKER_HOST#*://}\n</code></pre> <p>\u518d\u5ea6\u30af\u30e9\u30b9\u30bf\u4f5c\u6210\u3002\u4e0a\u624b\u304f\u9032\u3093\u3067\u308b\u611f\u3058\u304c\u3057\u305f\u304c\u3001 \u3069\u3046\u3082 API Server \u7528\u306e Server \u30b3\u30f3\u30c6\u30ca\u8d77\u52d5\u3067\u523a\u3055\u3063\u3066\u308b\u69d8\u5b50\u3002\u3002\u3002</p> <pre><code>k3d cluster create test\n   :\nINFO[0007] Starting node 'k3d-test-server-0' # \u30b3\u30b3\u3067\u523a\u3055\u308b\n</code></pre> <p>\u5225\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u3067 <code>k3d-test-server-0</code> \u30b3\u30f3\u30c6\u30ca\u306e\u30ed\u30b0\u3092\u8ffd\u3063\u3066\u307f\u308b\u3068\u3001 CGroup \u5468\u308a\u3067\u4f55\u304b\u30a8\u30e9\u30fc\u304c\u51fa\u3066\u3044\u308b\u3002</p> <pre><code>$ podman logs -f k3d-test-server-0\n   :\ntime=\"...omit...\" level=fatal msg=\"failed to find cpuset cgroup (v2)\"\n   :\n</code></pre> <p>CGroup \u306e\u8a2d\u5b9a\u3092\u78ba\u8a8d\u3057\u3066\u307f\u308b\u3068\u3001\u305f\u3057\u304b\u306b <code>cpuset</code> \u306f\u306a\u3055\u305d\u3046\u3002</p> <pre><code>$ cat /sys/fs/cgroup/user.slice/user-$(id -u).slice/user@$(id -u).service/cgroup.controllers\ncpu memory pids\n</code></pre> <p>\u3068\u3044\u3046\u3053\u3068\u3067\u3001 <code>cpuset</code> \u306b\u3064\u3044\u3066\u3082 CGroup \u306b\u59d4\u4efb\u3067\u304d\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3059\u308b\u3002</p> <p>Warning</p> <p>\u305f\u3060\u3001\u3053\u308c\u3092\u3084\u308b\u3068\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u304c\u843d\u3061\u3066\u3057\u307e\u3046\u69d8\u5b50 (\u3060\u304b\u3089\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u6709\u52b9\u306b\u306a\u3063\u3066\u3044\u306a\u3044\u3068\u306e\u3053\u3068)\u3002 \u305d\u3046\u3044\u3046\u610f\u5473\u3060\u3068\u3001WSL \u3067 Kubernetes \u3092\u904a\u3076\u5834\u5408\u306f kind \u306e\u65b9\u304c\u826f\u3044\u304b\u3082\u3002</p> <pre><code>sudo sh -c '\n   mkdir -p /etc/systemd/system/user@.service.d/\n   echo \"[Service]\\nDelegate=cpuset\" &gt;&gt;/etc/systemd/system/user@.service.d/delegate.conf\n   systemctl daemon-reload\n'\n</code></pre> <p>\u3082\u3046\u4e00\u5ea6\u78ba\u8a8d\u3057\u3066\u307f\u308b\u3068 <code>cpuset</code> \u304c\u542b\u307e\u308c\u3066\u3044\u308b\u3002 \u3082\u3057\u3001\u8a2d\u5b9a\u304c\u53cd\u6620\u304c\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001 <code>wsl --shutdown</code> \u3092\u3057\u3066 WSL \u3092\u518d\u8d77\u52d5\u3059\u308c\u3070 OK\u3002</p> <pre><code>$ cat /sys/fs/cgroup/user.slice/user-$(id -u).slice/user@$(id -u).service/cgroup.controllers\ncpuset cpu memory pids\n</code></pre> <p>\u3055\u3059\u304c\u306b\u3082\u3046\u5927\u4e08\u592b\u3060\u308d\u3046\uff1f\u3063\u3066\u601d\u3063\u305f\u3051\u3069\u3001\u3084\u3063\u3071\u308a\u307e\u3060 <code>k3d-test-server-0</code> \u3067\u523a\u3055\u308b\u3002 \u3082\u3046\u4e00\u5ea6 <code>k3d-test-server-0</code> \u306e\u30b3\u30f3\u30c6\u30ca\u30ed\u30b0\u3092\u8ffd\u3046\u3068\u3001 Kubelet \u306e\u30e6\u30fc\u30b6\u540d\u524d\u7a7a\u9593\u3067\u52d5\u304b\u3059\u305f\u3081\u306e\u6a5f\u80fd\u30d5\u30e9\u30b0\u304c\u5fc5\u8981\u3063\u307d\u3044\u3002</p> <pre><code>$ podman logs -f k3d-test-server-0`\n   :\nE0209 ... 99 container_manager_linux.go:438] \"Updating kernel flag failed (Hint: enable KubeletInUserNamespace feature flag to ignore the error)\" err=\"open /proc/sys/kernel/panic: permission denied\" flag=\"kernel/panic\"\n</code></pre> <p>\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067\u7121\u4e8b k3d \u30af\u30e9\u30b9\u30bf\u3092\u4f5c\u6210\u3059\u308b\u3053\u3068\u304c\u51fa\u6765\u305f\u3002</p> <pre><code>$ k3d cluster create test \\\n   --k3s-arg '--kubelet-arg=feature-gates=KubeletInUserNamespace=true@server:*;agent:*'\nINFO[0002] Prep: Network\nINFO[0002] Re-using existing network 'k3d-test' (fa174386851d374a5884829e5c357fac46f92111ccf558b100371bb1f83ff853)\nINFO[0002] Created image volume k3d-test-images\nINFO[0002] Starting new tools node...\nINFO[0003] Creating node 'k3d-test-server-0'\nINFO[0004] Creating LoadBalancer 'k3d-test-serverlb'\nINFO[0004] Starting node 'k3d-test-tools'\nINFO[0006] Using the k3d-tools node to gather environment information\nINFO[0010] HostIP: using network gateway 10.89.1.1 address\nINFO[0010] Starting cluster 'test'\nINFO[0010] Starting servers...\nINFO[0011] Starting node 'k3d-test-server-0'\nINFO[0027] All agents already running.\nINFO[0027] Starting helpers...\nINFO[0030] Starting node 'k3d-test-serverlb'\nINFO[0040] Injecting records for hostAliases (incl. host.k3d.internal) and for 2 network members into CoreDNS configmap...\nINFO[0045] Cluster 'test' created successfully!\nINFO[0047] You can now use it like this:\nkubectl cluster-info\n</code></pre> <p>\u51fa\u529b\u306b\u51fa\u3066\u3044\u308b\u901a\u308a\u3001 <code>kubectl cluster-info</code> \u30b3\u30de\u30f3\u30c9\u3067\u52d5\u4f5c\u78ba\u8a8d\u3057\u3066\u307f\u308b\u3002</p> <pre><code>$ kubectl cluster-info\nKubernetes control plane is running at https://0.0.0.0:45715\nCoreDNS is running at https://0.0.0.0:45715/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy\nMetrics-server is running at https://0.0.0.0:45715/api/v1/namespaces/kube-system/services/https:metrics-server:https/proxy\n\nTo further debug and diagnose cluster problems, use 'kubectl cluster-info dump'.\n</code></pre> <p>\u7121\u4e8b\u30af\u30e9\u30b9\u30bf\u304c\u52d5\u3044\u3066\u305d\u3046\u3002 <code>kubectl get</code> \u306a\u3069\u3067\u3001\u4ed6\u306e\u60c5\u5831\u3082\u78ba\u8a8d\u3067\u304d\u305f\u3002</p> <pre><code>$ kubectl get nodes\nNAME                STATUS   ROLES                  AGE   VERSION\nk3d-test-server-0   Ready    control-plane,master   68s   v1.31.4+k3s1\n</code></pre>","tags":["Container","CGroup","Devcontainer","Kubernetes","k3d","Podman","WSL"]},{"location":"blog/2025/02/12/installing-metallb-on-kind/","title":"kind \u3067 MetalLB \u3092\u4f7f\u3063\u3066 type=LoadBalancer \u3092\u4f7f\u3044\u305f\u3044","text":"<p>kind \u3092\u4f7f\u3063\u3066 Kubernetes \u30af\u30e9\u30b9\u30bf\u3092\u4f5c\u3063\u305f\u3068\u3057\u3066\u3082\u3001\u305d\u306e\u307e\u307e\u3060\u3068 <code>type=LoadBalancer</code> \u306e Service \u4f5c\u3063\u3066\u30af\u30e9\u30b9\u30bf\u5916\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u3044\u3002</p> <p>\u4eca\u56de\u306f MetalLB \u3092\u4f7f\u3063\u3066\u3001 kind \u3067\u4f5c\u3063\u305f Kubernetes \u30af\u30e9\u30b9\u30bf\u3067 <code>type=LoadBalancer</code> \u306e Service \u3092\u4f5c\u3063\u3066\u307f\u305f (\u3068\u3044\u3063\u3066\u3082\u3001\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u5f93\u3063\u3066\u3001\u305f\u3060\u305f\u3060\u30b3\u30d4\u30da\u3057\u305f\u3060\u3051\u3060\u3051\u3069\u3002)</p>","tags":["Container","Devcontainer","kind","Kubernetes","LoadBalancer","MetalLB","Podman","WSL"]},{"location":"blog/2025/02/12/installing-metallb-on-kind/#metallb-\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","title":"MetalLB \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<p>\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u5f93\u3063\u3066\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u30b3\u30d4\u30da\u3059\u308b\u3002 \u4f55\u304b kube-proxy \u306b ARP \u306b\u95a2\u3059\u308b\u8a2d\u5b9a\u3092\u3057\u3066\u308b\u3063\u307d\u3044\u3051\u3069\u3001\u7d30\u304b\u3044\u3053\u3068\u306f\u8abf\u3079\u3066\u306a\u3044\u306e\u3067\u3088\u304f\u308f\u304b\u3089\u306a\u3044\u3002 \u305f\u3076\u3093\u3001 MetalLB \u306b\u30d1\u30b1\u30c3\u30c8\u304c\u6d41\u308c\u308b\u3088\u3046\u306b ARP \u306b\u5bfe\u3057\u3066\u56fa\u5b9a\u3067\u5fdc\u7b54\u3092\u8fd4\u3059\u3088\u3046\u306a\u3053\u3068\u3092\u3057\u3066\u3044\u308b\u306e\u304b\u306a\u3002</p> <pre><code># see what changes would be made, returns nonzero returncode if different\nkubectl get configmap kube-proxy -n kube-system -o yaml | \\\nsed -e \"s/strictARP: false/strictARP: true/\" | \\\nkubectl diff -f - -n kube-system\n\n# actually apply the changes, returns nonzero returncode on errors only\nkubectl get configmap kube-proxy -n kube-system -o yaml | \\\nsed -e \"s/strictARP: false/strictARP: true/\" | \\\nkubectl apply -f - -n kube-system\n</code></pre> <p>kube-proxy \u306e\u8a2d\u5b9a\u304c\u7d42\u308f\u3063\u305f\u3089\u3001MetalLB \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b (MetalLB \u306e\u30de\u30cb\u30d5\u30a7\u30b9\u30c8\u3092\u53e9\u304d\u8fbc\u3080\u3060\u3051)\u3002</p> <pre><code>kubectl apply \\\n    -f https://raw.githubusercontent.com/metallb/metallb/v0.14.9/config/manifests/metallb-native.yaml\n</code></pre> <p>\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306f\u30b3\u30ec\u3060\u3051\u3060\u3051\u3069\u3001\u3053\u306e\u307e\u307e\u3058\u3083 IP \u30a2\u30c9\u30ec\u30b9\u6255\u3044\u51fa\u3057\u304c\u4e0a\u624b\u304f\u3044\u304b\u306a\u3044\u306e\u3067\u3001\u6b21\u7ae0\u306e\u8a2d\u5b9a\u3082\u3057\u3066\u3044\u304f\u3002</p>","tags":["Container","Devcontainer","kind","Kubernetes","LoadBalancer","MetalLB","Podman","WSL"]},{"location":"blog/2025/02/12/installing-metallb-on-kind/#metallb-\u306e\u8a2d\u5b9a","title":"MetalLB \u306e\u8a2d\u5b9a","text":"<p>\u307e\u305a\u306f\u3001 MetalLB \u304c\u4f7f\u3048\u308b\u30a2\u30c9\u30ec\u30b9\u5e2f\u306e\u305f\u3081\u306b\u3001 kind \u304c\u63d0\u4f9b\u3059\u308b\u30b3\u30f3\u30c6\u30ca\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u30a2\u30c9\u30ec\u30b9\u3092\u8abf\u3079\u308b\u3002 IPv4 \u3068 IPv6 \u306e\u30a2\u30c9\u30ec\u30b9\u304c\u51fa\u529b\u3055\u308c\u308b\u3068\u601d\u3046\u304c\u3001 IPv4 \u306e\u3082\u306e\u3092\u63a7\u3048\u3066\u304a\u304f (\u30b3\u30b3\u3067\u306f <code>10.89.2.0/24</code>)\u3002</p> <pre><code>$ podman network inspect kind | grep -i subnet\\\"\n      \"subnet\": \"...omit (ipv6)...\",\n      \"subnet\": \"10.89.2.0/24\",\n</code></pre> <p>\u4ee5\u4e0b\u306e\u5185\u5bb9\u306e MetalLB \u306e\u30b3\u30f3\u30d5\u30a3\u30b0\u3092\u4f5c\u308b\u3002</p> <pre><code>---\napiVersion: metallb.io/v1beta1\nkind: IPAddressPool\nmetadata:\n  name: demo-pool\n  namespace: metallb-system\nspec:\n  addresses:\n  - 10.89.2.2-10.89.2.255 # (1)!\n---\napiVersion: metallb.io/v1beta1\nkind: L2Advertisement\nmetadata:\n  name: demo-advertisement\n  namespace: metallb-system\n</code></pre> <ol> <li>\u6700\u4e0b\u4f4d bit \u304c <code>1</code> (\u30b3\u30b3\u3067\u306f <code>10.89.2.1/32</code>) \u306f     Gateway \u30a2\u30c9\u30ec\u30b9\u3068\u3057\u3066\u4f7f\u7528\u3055\u308c\u3066\u3044\u308b\u306e\u3067     <code>10.89.2.2</code> \u304b\u3089 <code>10.89.2.255</code> \u307e\u3067\u3092\u6307\u5b9a\u3059\u308b</li> </ol> <p>\u3042\u3068\u306f\u4f5c\u3063\u305f\u30b3\u30f3\u30d5\u30a3\u30b0\u3092 <code>kubectl apply</code> \u3059\u308b\u3060\u3051\u3002</p>","tags":["Container","Devcontainer","kind","Kubernetes","LoadBalancer","MetalLB","Podman","WSL"]},{"location":"blog/2025/02/12/installing-metallb-on-kind/#\u52d5\u4f5c\u78ba\u8a8d","title":"\u52d5\u4f5c\u78ba\u8a8d","text":"<p>\u8a66\u3057\u306b <code>type=LoadBalancer</code> Service \u3092\u4f5c\u3063\u3066\u3001 EXTERNAL-IP \u304c\u5272\u308a\u632f\u3089\u308c\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3059\u308b\u3002 \u4ee5\u4e0b\u306e\u3088\u3046\u306a\u9069\u5f53\u306a Service \u3092\u4f5c\u308b\u3002</p> <pre><code>kubectl apply -f - &lt;&lt;-__EOF__\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: echo\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: echo\n  template:\n    metadata:\n      labels:\n        app: echo\n      annotations:\n        sidecar.istio.io/inject: \"false\"\n    spec:\n      containers:\n      - image: docker.io/library/nginx\n        name: nginx\n        ports:\n        - name: http\n          containerPort: 80\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: echo\nspec:\n  ports:\n    - name: http\n      port: 80\n      targetPort: http\n      protocol: TCP\n  selector:\n    app: echo\n  type: LoadBalancer\n__EOF__\n</code></pre> <p>\u3061\u3083\u3093\u3068 Service \u306b EXTERNAL-IP \u304c\u5272\u308a\u632f\u3089\u308c\u3066\u3044\u308b\u3057\u3001 \u30a2\u30c9\u30ec\u30b9\u5e2f\u3082 kind \u306e\u30b3\u30f3\u30c6\u30ca\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306e\u3082\u306e\u304c\u4f7f\u308f\u308c\u3066\u3044\u308b\u3002</p> <pre><code>$ kubectl get svc echo\nNAME   TYPE           CLUSTER-IP     EXTERNAL-IP   PORT(S)        AGE\necho   LoadBalancer   10.96.65.120   10.89.2.3     80:30934/TCP   12s\n</code></pre> <p>\u3068\u3044\u3046\u3053\u3068\u3067\u3001 kind \u30b3\u30f3\u30c6\u30ca\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306b\u5225\u306e\u30b3\u30f3\u30c6\u30ca\u3092\u4f5c\u3063\u3066\u758e\u901a\u78ba\u8a8d\u3002</p> <pre><code>$ podman run --rm --network kind docker.io/library/busybox wget -qS 10.89.2.3\n  HTTP/1.1 200 OK\n  Server: nginx/1.27.4\n    :\n</code></pre> <p>Tip</p> <p>\u3044\u3061\u3044\u3061\u3001\u30b3\u30f3\u30c6\u30ca\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306b\u5225\u306e\u30b3\u30f3\u30c6\u30ca\u3092\u4f5c\u3063\u305f\u308a\u305b\u305a\u3001 \u30db\u30b9\u30c8\u5074\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3057\u305f\u3044\u5834\u5408\u306f\u3001 kind \u4f5c\u6210\u6642\u306b \u30b3\u30f3\u30c6\u30ca\u30dd\u30fc\u30c8\u3068\u30db\u30b9\u30c8\u30dd\u30fc\u30c8\u306e\u30de\u30c3\u30d4\u30f3\u30b0\u3092\u884c\u3046\u30b3\u30f3\u30d5\u30a3\u30b0\u3092\u6307\u5b9a\u3059\u308b\u3002 \u4ee5\u4e0b\u306f http/https \u3092\u30de\u30c3\u30d4\u30f3\u30b0\u3057\u305f\u3044\u5834\u5408\u306e\u4f8b\u3002</p> <pre><code>kind: Cluster\napiVersion: kind.x-k8s.io/v1alpha4\nnodes:\n- role: control-plane\nkubeadmConfigPatches:\n- |\n    kind: InitConfiguration\n    nodeRegistration:\n    kubeletExtraArgs:\n      node-labels: \"ingress-ready=true\"\nextraPortMappings:\n- containerPort: 80\n    hostPort: 80\n    protocol: TCP\n- containerPort: 443\n    hostPort: 443\n    protocol: TCP\n</code></pre>","tags":["Container","Devcontainer","kind","Kubernetes","LoadBalancer","MetalLB","Podman","WSL"]},{"location":"blog/2025/03/04/podman-compose-with-devcontainer/","title":"Devcontainer \u3067 Podman Compose \u3092\u5229\u7528\u3059\u308b","text":"<p>Devcontainer \u3092\u4f7f\u3044\u306a\u304c\u3089\u8907\u6570\u306e\u30b3\u30f3\u30c6\u30ca\u3092\u8d77\u52d5\u3057\u305f\u3044\u5834\u5408\u306f Podman Compose (Docker Compose) \u304c\u5229\u7528\u3067\u304d\u308b\u3002 \u304c\u3001\u4ee5\u4e0b\u3092\u5b9f\u73fe\u3059\u308b Devcontainer \u3092\u4f5c\u308d\u3046\u3068\u3057\u3066\u305a\u3044\u3076\u3093\u8a66\u884c\u932f\u8aa4\u3057\u305f\u306e\u3067\u3001\u5099\u5fd8\u3068\u3057\u3066\u30e1\u30e2\u3057\u3066\u304a\u304f\u3002</p> <ul> <li>Devcontainer \u306e\u8d77\u52d5\u306b\u5931\u6557\u3059\u308b     (\u3053\u3061\u3089\u306e\u554f\u984c\u306f\u3001 Compose \u306b\u306f\u95a2\u4fc2\u306a\u3044\u3053\u3068\u306b\u5f8c\u3067\u6c17\u3065\u3044\u305f)</li> <li>UID \u306e\u30de\u30c3\u30d4\u30f3\u30b0\u9632\u6b62\u306b <code>--userns=keep-id</code> \u30aa\u30d7\u30b7\u30e7\u30f3\u304c\u4f7f\u3048\u306a\u3044</li> </ul>","tags":["Container","Devcontainer","Podman","WSL"]},{"location":"blog/2025/03/04/podman-compose-with-devcontainer/#\u3053\u306e\u8a71\u306e\u524d\u63d0","title":"\u3053\u306e\u8a71\u306e\u524d\u63d0","text":"<p>\u4eca\u56de\u3001\u307e\u305a\u306f\u3058\u3081\u306b\u4ee5\u4e0b\u306e\u3088\u3046\u306a devcontainer.json \u3068 compose.yaml \u3092\u4f5c\u6210\u3057\u305f (Java \u958b\u767a &amp; PlantUML \u3067\u6587\u66f8\u57f7\u7b46\u74b0\u5883\u3092\u4f5c\u308d\u3046\u3068\u3057\u305f\u3053\u3068\u304c\u76ee\u7684)\u3002</p> .devcontainer/devcontainer.json<pre><code>{\n    \"name\": \"Java Workspace\",\n    \"dockerComposeFile\": [\n        \"compose.yaml\"\n    ],\n    \"service\": \"java-workspace\",\n    \"workspaceFolder\": \"/home/vscode/workspace\",\n\n    \"containerUser\": \"vscode\"\n}\n</code></pre> .devcontainer/compose.yaml<pre><code>services:\n  java-workspace:\n    image: mcr.microsoft.com/vscode/devcontainers/java:21-bullseye\n    name: java-workspace\n  plantuml:\n    image: docker.io/plantuml/plantuml-server:jetty\n    name: plantuml-server\n</code></pre>","tags":["Container","Devcontainer","Podman","WSL"]},{"location":"blog/2025/03/04/podman-compose-with-devcontainer/#devcontainer-\u306e\u8d77\u52d5\u306b\u5931\u6557\u3059\u308b\u4ef6\u306b\u3064\u3044\u3066","title":"Devcontainer \u306e\u8d77\u52d5\u306b\u5931\u6557\u3059\u308b\u4ef6\u306b\u3064\u3044\u3066","text":"<p>\u7d50\u8ad6\u304b\u3089\u8a00\u3063\u3066\u3057\u307e\u3048\u3070\u3001\u4f7f\u3063\u3066\u308b\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u306e\u554f\u984c\u3067\u3001 TTY \u3092\u4ed8\u3051\u3066\u3042\u3052\u308c\u3070\u89e3\u6c7a\u3057\u305f\u3002\u3002\u3002 \u4f7f\u7528\u3057\u3066\u3044\u308b Dockerfile \u3092\u3061\u3083\u3093\u3068\u898b\u308c\u3070\u6e08\u3080\u8a71\u3060\u3063\u305f\u3002</p> <p>\u6d41\u308c\u3092\u8ffd\u3063\u3066\u8aac\u660e\u3059\u308b\u3068\u3001\u307e\u305a Devcontainer \u3092\u8d77\u52d5\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u30a8\u30e9\u30fc\u304c\u51fa\u305f\u3002</p> <pre><code>    :\nError: can only create exec sessions on running containers: container state improper\nStart: Run in container:  (command -v getent &gt;/dev/null 2&gt;&amp;1 &amp;&amp; getent passwd 'vscode' || grep -E '^vscode|^[^:]*:[^:]*:vscode:' /etc/passwd || true)\nStdin closed!\nError: An error occurred setting up the container.\n    :\n</code></pre> <p>\u898b\u3066\u306e\u901a\u308a <code>Stdin closed</code> \u3068\u3044\u3046\u3053\u3068\u3067\u3001 \u6a19\u6e96\u5165\u529b\u304c\u9589\u3058\u3089\u308c\u3066\u304a\u308a\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u304c\u51fa\u6765\u306a\u3044\u3053\u3068\u304c\u539f\u56e0\u3068\u5206\u304b\u308b\u3002</p> <p>\u3053\u3053\u3067\u3001\u4f7f\u7528\u3057\u3066\u3044\u308b mcr.microsoft.com/vscode/devcontainers/java:21-bullseye \u306e Dockerfile \u304b\u3089\u30d9\u30fc\u30b9\u30a4\u30e1\u30fc\u30b8\u3092\u8fbf\u3063\u3066\u3044\u304f\u3068\u3001 \u6700\u7d42\u7684\u306b debian:bullseye \u3067\u3084\u3063\u3068 <code>CMD</code> \u5b9a\u7fa9\u3060\u3051\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u308b\u3002</p> debian:bullseye \u306e Dockerfile<pre><code>FROM scratch\nADD oci/blobs/rootfs.tar.gz /\nCMD [\"bash\"]\n</code></pre> <p><code>CMD</code> \u3067 <code>bash</code> \u3092\u6307\u5b9a\u3057\u3066\u3044\u308b\u306e\u3067\u3001 \u30b3\u30f3\u30c6\u30ca\u8d77\u52d5\u6642\u306b TTY \u304c\u5272\u308a\u3042\u3066\u3089\u308c\u3066\u3044\u306a\u3044\u3053\u3068\u3067 <code>bash</code> \u30d7\u30ed\u30bb\u30b9\u304c\u7d42\u4e86\u3057\u3001 \u30b3\u30f3\u30c6\u30ca\u3082\u7d42\u4e86\u3057\u3066\u3044\u305f\u3068\u3044\u3046\u308f\u3051\u3060\u3063\u305f\u3002</p> <p>\u3068\u3044\u3046\u3053\u3068\u3067\u3001\u539f\u56e0\u304c\u308f\u304b\u308c\u3070\u89e3\u6c7a\u7b56\u306f\u975e\u5e38\u306b\u5358\u7d14\u3002 <code>compose.yaml</code> \u306b\u4ee5\u4e0b\u306e\u5b9a\u7fa9\u3092\u8ffd\u52a0\u3059\u308c\u3070\u7121\u4e8b Devcontainer \u304c\u8d77\u52d5\u3057\u305f\u3002</p> <pre><code>--- before\n+++ after\n@@ -2,6 +2,7 @@\n   java-workspace:\n     image: mcr.microsoft.com/vscode/devcontainers/java:21-bullseye\n     name: java-workspace\n+    tty: true\n   plantuml:\n    image: docker.io/plantuml/plantuml-server:jetty\n</code></pre>","tags":["Container","Devcontainer","Podman","WSL"]},{"location":"blog/2025/03/04/podman-compose-with-devcontainer/#usernskeep-id-\u3092\u6307\u5b9a\u3067\u304d\u306a\u3044\u4ef6","title":"userns=keep-id \u3092\u6307\u5b9a\u3067\u304d\u306a\u3044\u4ef6","text":"<p>Compose \u3092\u4f7f\u308f\u306a\u3044 <code>.devcontainer.json</code> \u3067\u3042\u308c\u3070 <code>runArgs</code> \u3067\u5f15\u6570\u3092\u6307\u5b9a\u3067\u304d\u305f\u3051\u308c\u3069\u3001 Compose \u306e\u5834\u5408\u306f\u4f7f\u3048\u306a\u3044\u3002 \u3057\u304b\u3057\u3001\u30e6\u30fc\u30b6\u540d\u524d\u7a7a\u9593\u306e\u6307\u5b9a\u306f\u74b0\u5883\u5909\u6570\u3067\u3082\u3067\u304d\u308b\u306e\u3067\u3001 <code>compose.yaml</code> \u3068\u540c\u3058\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b <code>.env</code> \u3092\u7f6e\u3044\u3066\u4ee5\u4e0b\u306e\u5b9a\u7fa9\u3092\u5165\u308c\u308c\u3070\u89e3\u6c7a\u3002</p> .devcontainer/.env<pre><code>PODMAN_USERNS=keep-id\n</code></pre>","tags":["Container","Devcontainer","Podman","WSL"]},{"location":"guides/windows/configurations/symlink-as-non-root-user/","title":"Create symlink as Non-Admin User","text":"<p>Windows \u3067\u306f\u3001 <code>mklink</code> \u30b3\u30de\u30f3\u30c9\u3067\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u3092\u4f5c\u6210\u3057\u3088\u3046\u3068\u3057\u3066\u3082\u3001 Windows \u306e\u30ed\u30fc\u30ab\u30eb\u30dd\u30ea\u30b7\u30fc\u3067\u7ba1\u7406\u8005\u6a29\u9650\u4ee5\u5916\u306e\u30e6\u30fc\u30b6\u306b\u3088\u308b \u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u306e\u4f5c\u6210\u3092\u884c\u3046\u3053\u3068\u306f\u3067\u304d\u306a\u3044\u3002</p> <p>\u90fd\u5ea6\u3001\u7ba1\u7406\u8005\u6a29\u9650\u3067\u30bf\u30fc\u30df\u30ca\u30eb\u3092\u8d77\u52d5\u3059\u308b\u306e\u306f\u9762\u5012\u306a\u306e\u3067\u3001 \u4ee5\u4e0b\u306e\u624b\u9806\u3067\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u306e\u4f5c\u6210\u3092\u8a31\u53ef\u3057\u3066\u304a\u304f\u3068\u4fbf\u5229\u3002</p> <ol> <li> <p>Win+R \u3092\u62bc\u3057\u3066\u3001\u300c\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u6307\u5b9a\u3057\u3066\u5b9f\u884c\u300d\u30c0\u30a4\u30a2\u30ed\u30b0\u3092\u958b\u304f</p> </li> <li> <p><code>gpedit.msc</code> \u3068\u5165\u529b\u3057\u3066 Enter \u3092\u62bc\u3059     \u300cMicrosoft \u7ba1\u7406\u30b3\u30f3\u30bd\u30fc\u30eb\u300d\u8d77\u52d5\u306b\u95a2\u3059\u308b\u78ba\u8a8d\u30c0\u30a4\u30a2\u30ed\u30b0\u306f\u300c\u306f\u3044\u300d\u3092\u9078\u3076</p> <p></p> </li> <li> <p>\u5de6\u5074\u306e\u30da\u30a4\u30f3\u3067\u300c\u30ed\u30fc\u30ab\u30eb \u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc \u30dd\u30ea\u30b7\u30fc\u300d\u2192\u300c\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc\u306e\u69cb\u6210\u300d\u2192\u300cWindows \u306e\u8a2d\u5b9a\u300d     \u2192\u300c\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u306e\u8a2d\u5b9a\u300d\u2192\u300c\u30ed\u30fc\u30ab\u30eb \u30dd\u30ea\u30b7\u30fc\u300d\u2192\u300c\u30e6\u30fc\u30b6\u6a29\u5229\u306e\u5272\u308a\u5f53\u3066\u300d\u3092\u9078\u3073\u3001     \u53f3\u5074\u306e\u30da\u30a4\u30f3\u306e\u300c\u30b7\u30f3\u30dc\u30ea\u30c3\u30af \u30ea\u30f3\u30af\u306e\u4f5c\u6210\u300d\u3092\u30c0\u30d6\u30eb\u30af\u30ea\u30c3\u30af\u3059\u308b</p> <p></p> </li> <li> <p>\u300c\u30e6\u30fc\u30b6\u307e\u305f\u306f\u30b0\u30eb\u30fc\u30d7\u306e\u8ffd\u52a0\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3059</p> <p></p> </li> <li> <p>\u30e6\u30fc\u30b6\u540d\u3092\u5165\u529b\u3057\u3066\u300c\u540d\u524d\u306e\u78ba\u8a8d\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u304b\u3089\u300cOK\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3059</p> <p></p> </li> <li> <p>\u300c\u30b7\u30f3\u30dc\u30ea\u30c3\u30af \u30ea\u30f3\u30af\u306e\u4f5c\u6210\u300d\u30c0\u30a4\u30a2\u30ed\u30b0\u306b\u3082\u3001     \u5148\u307b\u3069\u5165\u529b\u3057\u305f\u30e6\u30fc\u30b6\u540d\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u305f\u3089\u300cOK\u300d\u30dc\u30bf\u30f3\u3092\u62bc\u3059</p> <p></p> </li> <li> <p>Windows \u3092\u518d\u8d77\u52d5\u3092\u3059\u308c\u3070\u3001\u30bf\u30fc\u30df\u30ca\u30eb\u3092\u7ba1\u7406\u8005\u6a29\u9650\u3067\u958b\u304b\u306a\u304f\u3066\u3082\u3001\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u304c\u4f5c\u6210\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u306f\u305a</p> </li> </ol>","tags":["Windows","Configurations"]},{"location":"guides/windows/tools/nodejs/nodejs-with-fnm/","title":"Install Node.js via fnm","text":"<p>Node.js \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u624b\u9806\u3068\u3057\u3066 NVM \u3092\u4f7f\u3063\u305f\u3084\u308a\u65b9 \u304c\u3042\u308b\u3051\u3069\u3001 \u3069\u3046\u3084\u3089 FNM (Fast Node Manager) \u306e\u65b9\u304c\u826f\u3055\u305d\u3046\u3002 \u500b\u4eba\u7684\u306b\u611f\u3058\u305f\u30e1\u30ea\u30c3\u30c8\u306f\u4ee5\u4e0b\u3002</p> <ul> <li> <p>Rust \u88fd\u306a\u306e\u3067\u8efd\u91cf\uff06\u9ad8\u901f</p> </li> <li> <p>\u30d0\u30fc\u30b8\u30e7\u30f3\u5207\u308a\u66ff\u3048\u306b symlink \u3067\u306f\u306a\u304f junction \u3092\u4f7f\u3063\u3066\u3044\u308b\u306e\u3067\u3001     \u7ba1\u7406\u8005\u6a29\u9650\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u3067\u306a\u304f\u3066\u826f\u3044\u3002     (NVM \u306f symlink \u3067\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u5207\u308a\u66ff\u3048\u308b\u305f\u3081\u3001\u7ba1\u7406\u8005\u6a29\u9650\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u304c\u5fc5\u8981)</p> </li> </ul>","tags":["Windows","Node.js"]},{"location":"guides/windows/tools/nodejs/nodejs-with-fnm/#\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u624b\u9806","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u624b\u9806","text":"<p>\u4ee5\u4e0b\u3044\u305a\u308c\u304b\u306e\u65b9\u6cd5\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002</p> GitHub \u304b\u3089\u5165\u624b\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30ebWindows Package Manager \u3092\u4f7f\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb <ol> <li> <p>FNM \u306e GitHub \u30ea\u30dd\u30b8\u30c8\u30ea \u304b\u3089\u3001     <code>fnm-windows.zip</code> \u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3002</p> </li> <li> <p>Zip \u30d5\u30a1\u30a4\u30eb\u306b <code>fnm.exe</code> \u304c\u542b\u307e\u308c\u3066\u3044\u308b\u306e\u3067\u3001     \u4efb\u610f\u306e\u30d5\u30a9\u30eb\u30c0\u306b\u5c55\u958b\u3059\u308b\u3002</p> </li> </ol> <p>PowerShell \u3067\u4ee5\u4e0b\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002</p> <pre><code>winget install `\n    -e --id Schniz.fnm `\n    -l C:\\tools\\fnm # (1)!\n</code></pre> <ol> <li>\u3053\u3053\u3067\u306f\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5148\u3092 <code>C:\\tools\\fnm</code> \u3068\u3057\u3066\u3044\u308b</li> </ol> <p>Tip</p> <p>\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u3001\u74b0\u5883\u5909\u6570 <code>PATH</code> \u3082\u66f4\u65b0\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001 \u30bf\u30fc\u30df\u30ca\u30eb\u3092\u65b0\u3057\u304f\u958b\u3051\u3070 <code>fnm</code> \u30b3\u30de\u30f3\u30c9\u304c\u4f7f\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u3002</p>","tags":["Windows","Node.js"]},{"location":"guides/windows/tools/nodejs/nodejs-with-fnm/#\u4e8b\u524d\u6e96\u5099","title":"\u4e8b\u524d\u6e96\u5099","text":"<p><code>fnm</code> \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3046\u524d\u306b\u3001\u30bf\u30fc\u30df\u30ca\u30eb\u306b\u74b0\u5883\u5909\u6570\u3092\u53e9\u304d\u8fbc\u3080\u5fc5\u8981\u304c\u3042\u308b\u3002 \u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u306b\u5f93\u3063\u3066\u3001 \u4f7f\u3063\u3066\u3044\u308b\u30bf\u30fc\u30df\u30ca\u30eb\u306b\u5408\u308f\u305b\u305f\u30b3\u30de\u30f3\u30c9\u3092\u5165\u529b\u3059\u308b\u3002 \u30b3\u30b3\u3067\u306f Windows \u74b0\u5883\u3067\u3042\u308b\u3053\u3068\u3092\u60f3\u5b9a\u3057\u3066\u3001\u4ee5\u4e0b\u306e PowerShell \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3002</p> <pre><code>fnm env --use-on-cd --shell powershell | Out-String | Invoke-Expression\n</code></pre>","tags":["Windows","Node.js"]},{"location":"guides/windows/tools/nodejs/nodejs-with-fnm/#nodejs-\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","title":"Node.js \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<p>\u307e\u305a\u3001\u3069\u306e\u3088\u3046\u306a\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308b\u304b\u3092 <code>fnm list-remote</code> \u30b3\u30de\u30f3\u30c9\u3067\u78ba\u8a8d\u3059\u308b\u3002</p> <pre><code>PS&gt; fnm list-remote\n  :\nv20.18.1 (Iron)\n  :\nv22.11.0 (Jod)\n  :\nv23.6.0\n</code></pre> <p>\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u53ef\u80fd\u306a\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u4e00\u89a7\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001 \u5e0c\u671b\u3059\u308b\u30d0\u30fc\u30b8\u30e7\u30f3\u3092 <code>fnm install</code> \u30b3\u30de\u30f3\u30c9\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002</p> <p>Info</p> <p>\u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a\u306b <code>v</code> \u306f\u4ed8\u3051\u306a\u304f\u3066\u3082\u826f\u3044\u3002</p> <pre><code>fnm install 20.18.1\n</code></pre> <p>\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u5f8c\u3001 <code>fnm list</code> \u30b3\u30de\u30f3\u30c9\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u3001 \u73fe\u5728\u4f7f\u7528\u4e2d\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u78ba\u8a8d\u3067\u304d\u308b (\u9752\u304f\u30cf\u30a4\u30e9\u30a4\u30c8\u3055\u308c\u3066\u3044\u308b\u306f\u305a)\u3002</p> <pre><code>PS&gt; fnm list\n* v20.18.1 default\n* system\n</code></pre> <p>\u3082\u3061\u308d\u3093\u3001\u4ed6\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u8ffd\u52a0\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3002</p> <pre><code>fnm install 22.13.0\n</code></pre> <p>\u3082\u3046\u4e00\u5ea6 <code>fnm list</code> \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u5897\u3048\u3066\u3044\u308b\u3002</p> <pre><code>PS&gt; fnm list\n* v20.18.1 default\n* v22.13.0\n* system\n</code></pre>","tags":["Windows","Node.js"]},{"location":"guides/windows/tools/nodejs/nodejs-with-fnm/#\u4ed6\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u5207\u308a\u66ff\u3048","title":"\u4ed6\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u5207\u308a\u66ff\u3048","text":"<p>\u8907\u6570\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u308b\u5834\u5408\u3001 <code>fnm use</code> \u30b3\u30de\u30f3\u30c9\u3067 Node.js \u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u5207\u308a\u66ff\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002 \u4ee5\u4e0b\u306f\u3001 Node.js v22.13.0 \u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u306e\u4f8b\u3002</p> <pre><code>fnm use 22.13.0\n</code></pre> <p>\u305f\u3060\u3057\u3001 <code>fnm use</code> \u306f\u30bf\u30fc\u30df\u30ca\u30eb\u306e\u30ab\u30ec\u30f3\u30c8\u30bb\u30c3\u30b7\u30e7\u30f3\u3067\u306e\u307f\u6709\u52b9\u306a\u306e\u3067\u3001 \u8d77\u52d5\u3059\u308b\u30bf\u30fc\u30df\u30ca\u30eb\u306e\u5168\u3066\u3067\u4f7f\u7528\u3059\u308b\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u6307\u5b9a\u3057\u305f\u3044\u5834\u5408\u306f\u3001 \u6b21\u306e\u7bc0\u3092\u53c2\u7167\u3002</p>","tags":["Windows","Node.js"]},{"location":"guides/windows/tools/nodejs/nodejs-with-fnm/#\u30c7\u30d5\u30a9\u30eb\u30c8\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u5207\u308a\u66ff\u3048","title":"\u30c7\u30d5\u30a9\u30eb\u30c8\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u5207\u308a\u66ff\u3048","text":"<p>\u524d\u7bc0\u306e\u901a\u308a\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u4f7f\u7528\u3059\u308b Node.js \u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u306f\u3001 <code>fnm default</code> \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3059\u308b\u3002\u4f8b\u3048\u3070\u3001\u4ee5\u4e0b\u306e\u5b9f\u884c\u4f8b\u306e\u3088\u3046\u306b\u3001 \u73fe\u5728\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u30d0\u30fc\u30b8\u30e7\u30f3\u304c v20.18.1 \u3068\u3059\u308b\u3002</p> <pre><code>PS&gt; fnm list\n* v20.18.1 default\n* v22.13.0\n* system\n</code></pre> <p>\u5b9f\u969b\u306b\u3001\u73fe\u5728\u4f7f\u7528\u4e2d\u306e Node.js \u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u78ba\u8a8d\u3057\u3066\u3082 v20.18.1 \u304c\u8868\u793a\u3055\u308c\u308b\u3002</p> <pre><code>PS&gt; node -v\nv20.18.1\n</code></pre> <p>\u3053\u3053\u3067\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u30d0\u30fc\u30b8\u30e7\u30f3\u3092 v22.13.0 \u306b\u5207\u308a\u66ff\u3048\u308b\u3002</p> <pre><code>fnm default 22.13.0\n</code></pre> <p>\u3059\u308b\u3068\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u30d0\u30fc\u30b8\u30e7\u30f3\u304c v22.13.0 \u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u308b\u3002</p> <pre><code>PS&gt; fnm list\n* v20.18.1\n* v22.13.0 default\n* system\n</code></pre> <p>\u4f7f\u7528\u4e2d\u306e Node.js \u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3082 v22.13.0 \u306b\u5909\u308f\u3063\u3066\u3044\u308b\u3057\u3001 \u65b0\u3057\u3044\u30bf\u30fc\u30df\u30ca\u30eb\u3092\u958b\u3044\u3066\u3082\u30c7\u30d5\u30a9\u30eb\u30c8\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u4f7f\u7528\u53ef\u80fd\u306b\u306a\u3063\u3066\u3044\u308b\u3002</p> <pre><code>PS&gt; node -v\nv22.13.0\n</code></pre>","tags":["Windows","Node.js"]},{"location":"guides/windows/tools/nodejs/nodejs-with-nvm/","title":"Install Node.js via NVM for Windows","text":"<p>Warning</p> <p>FNM \u3092\u4f7f\u7528\u3057\u305f\u624b\u9806 \u306e\u65b9\u304c\u3001 \u7ba1\u7406\u8005\u6a29\u9650\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u304c\u4e0d\u8981\u306a\u306e\u3067\u4fbf\u5229\u304b\u3082\u3067\u3059\u3002</p> <p>Node.js \u306f\u3001 JavaScript \u306e\u5b9f\u884c\u74b0\u5883\u306e 1 \u3064\u3002 \u3053\u3053\u3067\u306f\u3001 Node.js \u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u7ba1\u7406\u3082\u884c\u3048\u308b NVM for Windows<sup>1</sup> \u3092\u4f7f\u7528\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3092\u884c\u3046\u3002</p>","tags":["Windows","Node.js"]},{"location":"guides/windows/tools/nodejs/nodejs-with-nvm/#\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u624b\u9806","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u624b\u9806","text":"<p>\u4ee5\u4e0b\u3044\u305a\u308c\u304b\u306e\u65b9\u6cd5\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002</p> \u516c\u5f0f\u30b5\u30a4\u30c8\u304b\u3089\u30a4\u30f3\u30b9\u30c8\u30fc\u30e9\u3092\u5165\u624b\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30ebWindows Package Manager \u3092\u4f7f\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb <p>NVM for Windows \u516c\u5f0f\u30b5\u30a4\u30c8 \u306b\u5f93\u3044\u3001\u4ee5\u4e0b\u306e\u624b\u9806\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002</p> <ol> <li> <p>\u6700\u65b0\u7248\u306e\u30ea\u30ea\u30fc\u30b9\u30da\u30fc\u30b8 \u304b\u3089     <code>nvm-setup.zip</code> \u3092\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3059\u308b\u3002</p> </li> <li> <p>Zip \u30d5\u30a1\u30a4\u30eb\u306b <code>nvm-setup.exe</code> \u304c\u542b\u307e\u308c\u3066\u3044\u308b\u306e\u3067\u3001     \u5c55\u958b\u30fb\u5b9f\u884c\u3057\u3066\u4efb\u610f\u306e\u30d5\u30a9\u30eb\u30c0\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002</p> </li> </ol> <p>PowerShell \u3067\u4ee5\u4e0b\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002</p> <pre><code>winget install `\n    -e --id CoreyButler.NVMforWindows `\n    -l C:\\tools\\nvm # (1)!\n</code></pre> <ol> <li>\u3053\u3053\u3067\u306f\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5148\u3092 <code>C:\\tools\\nvm</code> \u3068\u3057\u3066\u3044\u308b</li> </ol> <p>Tip</p> <p>\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u5f8c\u3001\u74b0\u5883\u5909\u6570 <code>PATH</code> \u3082\u66f4\u65b0\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001 \u30bf\u30fc\u30df\u30ca\u30eb\u3092\u65b0\u3057\u304f\u958b\u3051\u3070 <code>nvm</code> \u30b3\u30de\u30f3\u30c9\u304c\u4f7f\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308b\u3002</p> Proxy \u74b0\u5883\u4e0b\u3067 npm \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u3046\u5834\u5408 <p>\u30d7\u30ed\u30ad\u30b7\u306b\u3088\u308a <code>npm</code> \u30b3\u30de\u30f3\u30c9\u306b\u3088\u308b\u4f9d\u5b58\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u306b\u5931\u6557\u3059\u308b\u5834\u5408\u306f\u3001 PowerShell \u3067\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3002\u3082\u3057\u3001\u30d7\u30ed\u30ad\u30b7\u30b5\u30fc\u30d0\u306e\u8a3c\u660e\u66f8\u691c\u8a3c\u304c\u6c42\u3081\u3089\u308c\u308b\u5834\u5408\u306f\u3001 <code>cafile</code> \u30d1\u30e9\u30e1\u30fc\u30bf\u306b\u4fe1\u983c\u6e08 CA \u8a3c\u660e\u66f8\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u3082\u3042\u308a\u3002</p> <pre><code>$user_home = [Environment]::GetEnvironmentVariable('USERPROFILE')\n\n$prefix_path = \"${user_home}\\.npm_global\" # (1)!\n\n@\"\nproxy=&lt;PROXY-SERVER:PORT&gt;\nhttps-proxy=&lt;PROXY-SERVER:PORT&gt;\ncafile=&lt;TRUST-CA-CERTFILE&gt;\n\"@ &gt;\"${user_home}\\.npmrc\"\n</code></pre> <ol> <li>\u3053\u3053\u3067\u306f\u3001 <code>%USERPROFILE%\\.npm_global</code> \u3068\u3057\u3066\u3044\u308b\u304c\u3001\u304a\u597d\u307f\u3067\u5909\u3048\u3066\u3082\u554f\u984c\u306a\u3057\u3002     \u3053\u306e\u30d1\u30b9\u306b\u306f\u3001 <code>npm -g install</code> \u30b3\u30de\u30f3\u30c9\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u30d1\u30c3\u30b1\u30fc\u30b8\u3084\u30b3\u30de\u30f3\u30c9\u304c\u683c\u7d0d\u3055\u308c\u308b\u3002</li> </ol>","tags":["Windows","Node.js"]},{"location":"guides/windows/tools/nodejs/nodejs-with-nvm/#nodejs-\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","title":"Node.js \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"","tags":["Windows","Node.js"]},{"location":"guides/windows/tools/nodejs/nodejs-with-nvm/#lts-\u7248\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","title":"LTS \u7248\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<p>LTS \u7248\u306e Node.js \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u306b\u306f <code>nvm install lts</code> \u3092\u5b9f\u884c\u3059\u308b\u3002 <code>lts</code> \u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u306f\u3001\u5b9f\u884c\u3057\u305f\u6642\u70b9\u3067\u306e\u6700\u65b0\u306e LTS \u7248\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u308b\u3002</p> <pre><code>nvm install lts\n</code></pre>","tags":["Windows","Node.js"]},{"location":"guides/windows/tools/nodejs/nodejs-with-nvm/#\u7279\u5b9a\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","title":"\u7279\u5b9a\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<p>\u7279\u5b9a\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3044\u5834\u5408\u306f\u3001 \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u53ef\u80fd\u306a\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u78ba\u8a8d\u3057\u3066\u3001 <code>nvm install VERSION</code> \u306e <code>VERSION</code> \u306b\u6307\u5b9a\u3059\u308b\u3002 \u4f8b\u3048\u3070\u3001 <code>20.10.0</code> \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f\u3044\u5834\u5408\u306f <code>nvm install 20.10.0</code> \u3092\u5b9f\u884c\u3059\u308b\u3002</p>","tags":["Windows","Node.js"]},{"location":"guides/windows/tools/nodejs/nodejs-with-nvm/#\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u53ef\u80fd\u306a\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u4e00\u89a7\u8868\u793a","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u53ef\u80fd\u306a\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u4e00\u89a7\u8868\u793a","text":"<p>\u4f7f\u7528\u3057\u305f\u3044 Node.js \u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u4e00\u89a7\u3092\u8868\u793a\u3059\u308b\u306b\u306f <code>nvm list available</code> \u3092\u5b9f\u884c\u3059\u308b\u3002</p> <pre><code>$ nvm list available\n\n|   CURRENT    |     LTS      |  OLD STABLE  | OLD UNSTABLE |\n|--------------|--------------|--------------|--------------|\n|    21.5.0    |   20.10.0    |   0.12.18    |   0.11.16    |\n|    21.4.0    |    20.9.0    |   0.12.17    |   0.11.15    |\n|      :       |      :       |      :       |      :       |\n|    19.9.0    |   16.20.0    |   0.10.48    |    0.9.10    |\n\nThis is a partial list. For a complete list, visit https://nodejs.org/en/download/releases\n</code></pre>","tags":["Windows","Node.js"]},{"location":"guides/windows/tools/nodejs/nodejs-with-nvm/#\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u306e-nodejs-\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u4e00\u89a7\u8868\u793a","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u306e Node.js \u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u4e00\u89a7\u8868\u793a","text":"<p><code>nvm install</code> \u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u4e00\u89a7\u3092\u8868\u793a\u3059\u308b\u306b\u306f <code>nvm list</code> \u3092\u5b9f\u884c\u3059\u308b\u3002 <code>*</code> \u304c\u4ed8\u3044\u3066\u3044\u308b\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u3001\u73fe\u5728\u9078\u629e\u3055\u308c\u3066\u3044\u308b\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u306a\u308b\u3002 \u8907\u6570\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u4f7f\u7528\u3057\u305f\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u306b\u5207\u308a\u66ff\u3048\u308b\u3053\u3068\u3082\u53ef\u80fd\u3002</p> <pre><code>$ nvm list\n\n  * 19.9.0 (Currently using 64-bit executable)\n      :\n    20.10.0\n</code></pre>","tags":["Windows","Node.js"]},{"location":"guides/windows/tools/nodejs/nodejs-with-nvm/#\u4f7f\u7528\u3057\u305f\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u6307\u5b9a","title":"\u4f7f\u7528\u3057\u305f\u3044\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u6307\u5b9a","text":"<p>\u8907\u6570\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u4f7f\u7528\u3059\u308b\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u5207\u308a\u66ff\u3048\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002 \u4f7f\u7528\u3059\u308b\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u306b\u306f <code>nvm use VERSION</code> \u3092\u5b9f\u884c\u3059\u308b\u3002</p> <p>\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u306e\u4f5c\u6210\u306b\u306f\u7ba1\u7406\u8005\u6a29\u9650\u304c\u5fc5\u8981</p> <p><code>nvm use</code> \u30b3\u30de\u30f3\u30c9\u306f\u3001 <code>C:\\Program Files\\nodejs</code> \u304b\u3089 <code>${NVM_HOME}/VERSION</code> \u306b \u5bfe\u3057\u3066\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u3001\u7ba1\u7406\u8005\u6a29\u9650\u3092\u6301\u3063\u305f\u30b3\u30de\u30f3\u30c9\u30d7\u30ed\u30f3\u30d7\u30c8\u3082\u3057\u304f\u306f PowerShell \u3067\u5b9f\u884c\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u3002</p> <p>\u30b3\u30c1\u30e9\u306e\u8a2d\u5b9a\u3092\u884c\u3063\u3066\u304a\u3051\u3070\u3001 \u7ba1\u7406\u8005\u30e2\u30fc\u30c9\u3067\u30bf\u30fc\u30df\u30ca\u30eb\u3092\u958b\u304b\u306a\u304f\u3066\u3082\u3001\u4e00\u822c\u30e6\u30fc\u30b6\u3067\u3082\u30b7\u30f3\u30dc\u30ea\u30c3\u30af\u30ea\u30f3\u30af\u304c \u4f5c\u6210\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308b\u3002</p> <pre><code>$ nvm use 20.10.0 # (1)!\nNow using node v20.10.0 (64-bit)\n</code></pre> <ol> <li>\u3053\u3053\u3067\u306f\u3001 <code>20.10.0</code> \u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u3092\u4f8b\u306b\u3057\u3066\u3044\u308b\u3002</li> </ol> <p><code>nvm list</code> \u3092\u5b9f\u884c\u3057\u3066\u3001\u4f7f\u7528\u3059\u308b\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u5909\u308f\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3067\u304d\u308b\u3002</p> <pre><code>$ nvm list\n\n    19.9.0\n      :\n  * 20.10.0 (Currently using 64-bit executable)\n</code></pre> <ol> <li> <p>NVM for Windows \u306f\u3001 Microsoft\u3001 npm\u3001 Google \u3082\u5229\u7528\u3092\u63a8\u5968\u3057\u3066\u3044\u308b\u3002\u00a0\u21a9</p> </li> </ol>","tags":["Windows","Node.js"]},{"location":"guides/windows/wsl/install-podman/","title":"Install Podman on WSL","text":"<p>WSL \u306e Ubuntu \u306b Podman \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u30b3\u30f3\u30c6\u30ca\u3092\u6271\u3048\u308b\u74b0\u5883\u3092\u69cb\u7bc9\u3059\u308b\u3002</p> <p>Warning</p> <p>\u672c\u8a18\u4e8b\u306f\u3001\u4ee5\u4e0b\u306e\u5185\u5bb9\u3067\u78ba\u8a8d\u3002\u8a73\u3057\u304f\u78ba\u8a8d\u306f\u3057\u3066\u3044\u306a\u3044\u3051\u3069\u3001 Ubuntu \u304c\u3053\u308c\u3088\u308a\u53e4\u3044\u74b0\u5883\u3067\u306f Podman \u304c\u4e0a\u624b\u304f\u52d5\u304b\u306a\u304b\u3063\u305f\u3002</p> <ul> <li>OS: Windows 11 Pro 23H2</li> <li>WSL: Ubuntu 24.04.01 LTS</li> </ul>","tags":["Windows","WSL","Podman"]},{"location":"guides/windows/wsl/install-podman/#podman-\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","title":"Podman \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<p>\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u81ea\u4f53\u306f <code>apt</code> \u30b3\u30de\u30f3\u30c9\u3067\u7c21\u5358\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u53ef\u80fd\u3002</p> <ol> <li> <p>\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u66f4\u65b0\u3059\u308b</p> <pre><code>sudo apt update\n</code></pre> </li> <li> <p>Podman \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b</p> <pre><code>sudo apt install -y podman\n</code></pre> </li> </ol> <p>Info</p> <p>\u5358\u306b\u30b3\u30f3\u30c6\u30ca\u3092\u4f7f\u3046\u3060\u3051\u306a\u3089\u4e0d\u8981\u3060\u304c\u3001 DinD \u306e\u3088\u3046\u306b\u30b3\u30f3\u30c6\u30ca\u5185\u304b\u3089\u30b3\u30f3\u30c6\u30ca\u30db\u30b9\u30c8\u306e Podman \u3092\u64cd\u4f5c\u3057\u305f\u3044\u5834\u5408\u306a\u3069\u306f\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066 Podman \u306e UNIX \u30bd\u30b1\u30c3\u30c8\u3092\u4f5c\u6210\u3057\u3066\u304a\u304f\u3002 (<code>/run/user/$(id -u)/podman/podman.socket</code> \u306b\u4f5c\u6210\u3055\u308c\u308b)</p> <pre><code>mkdir -p ~/.config/systemd/user/\nsudo cp /usr/lib/systemd/user/podman.{service,socket} ~/.config/systemd/user/\nsystemctl --user enable --now podman.socket\n</code></pre>","tags":["Windows","WSL","Podman"]},{"location":"guides/windows/wsl/install-podman/#podman-\u3067\u30b3\u30f3\u30c6\u30ca\u306e\u52d5\u4f5c\u78ba\u8a8d","title":"Podman \u3067\u30b3\u30f3\u30c6\u30ca\u306e\u52d5\u4f5c\u78ba\u8a8d","text":"<p>\u8a66\u3057\u306b NGINX \u306e\u30b3\u30f3\u30c6\u30ca\u3092\u52d5\u304b\u3057\u3066\u307f\u308b\u3002</p> <pre><code>podman run --rm -p 8080:80 docker.io/library/nginx:latest\n</code></pre> \u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u306e\u5b8c\u5168\u4fee\u98fe\u540d\u306e\u7701\u7565 <p>Podman \u306f\u3001\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u3092\u30ec\u30b8\u30b9\u30c8\u30ea URL \u3082\u542b\u3093\u3060\u5b8c\u5168\u4fee\u98fe\u540d\u3067\u6307\u5b9a\u3059\u308b\u3053\u3068\u3092\u671f\u5f85\u3057\u3066\u3044\u308b\u306e\u3067\u3001 \u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u540d\u3060\u3051\u6307\u5b9a\u3057\u3066\u3082\u30a8\u30e9\u30fc\u304c\u3067\u308b\u3002</p> <pre><code>$ podman run --rm -p 8080:80 nginx:latest\nError: short-name \"nginx:latest\" did not resolve to an alias and no unqualified-search registries are defined in \"/etc/containers/registries.conf\"\n</code></pre> <p>\u672c\u6765\u3001\u5b8c\u5168\u4fee\u98fe\u540d\u3067\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u671b\u307e\u3057\u3044\u3051\u3069\u3082\u3001\u81ea\u5206\u306e\u958b\u767a\u30de\u30b7\u30f3\u3060\u3063\u305f\u308a\u3067\u308f\u3056\u308f\u3056\u8a18\u8ff0\u3059\u308b\u3053\u3068\u304c\u9762\u5012\u306a\u5834\u5408\u306f\u3001 \u30a8\u30e9\u30fc\u306b\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u901a\u308a <code>/etc/containers/registries.conf</code> \u306e <code>unqualified-search-registries</code> \u306b \u7701\u7565\u3057\u305f\u3044\u30ec\u30b8\u30b9\u30c8\u30ea\u540d\u3092\u8ffd\u52a0\u3059\u308b\u3002\u4ee5\u4e0b\u306f <code>docker.io</code> \u3092\u7701\u7565\u3057\u305f\u3044\u5834\u5408\u306e\u4f8b\u3002</p> <pre><code>--- before\n+++ after\n@@ -19,6 +19,7 @@\n#\n# # An array of host[:port] registries to try when pulling an unqualified image, in order.\n# unqualified-search-registries = [\"example.com\"]\n+unqualified-search-registries = [\"docker.io\"]\n#\n# [[registry]]\n# # The \"prefix\" field is used to choose the relevant [[registry]] TOML table;\n</code></pre> <p>\u8ffd\u52a0\u3057\u305f\u5f8c\u306f\u3001\u30a4\u30e1\u30fc\u30b8\u540d\u3060\u3051\u30b3\u30f3\u30c6\u30ca\u3092 Pull \u3059\u308b\u3053\u3068\u304c\u3067\u304d\u308b (1\u884c\u76ee\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u304b\u3089 <code>unqualified-search</code> \u304c\u884c\u308f\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u5206\u304b\u308b)\u3002</p> <pre><code>$ podman run --rm -p 8080:80 nginx:latest\nResolving \"nginx\" using unqualified-search registries (/etc/containers/registries.conf)\nTrying to pull docker.io/library/nginx:latest...\n    :\n</code></pre> <p>WSL \u4e0a\u306e Podman \u3067\u8d77\u52d5\u3057\u305f\u30b3\u30f3\u30c6\u30ca\u306e\u30dd\u30fc\u30c8\u306f\u3001\u30db\u30b9\u30c8 OS (Windows) \u306e\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u3082\u30a2\u30af\u30bb\u30b9\u53ef\u80fd\u3002 \u8a66\u3057\u306b PowerShell \u3067 <code>curl</code> (<code>Invoke-WebRequest</code>) \u3092\u9001\u308b\u3068 NGINX \u306e\u30b3\u30f3\u30c6\u30f3\u30c4\u304c\u8fd4\u3063\u3066\u304f\u308b\u3002</p> <pre><code>PS&gt; $(curl http://localhost:8080/).Content\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Welcome to nginx!&lt;/title&gt;\n&lt;style&gt;\nhtml { color-scheme: light dark; }\nbody { width: 35em; margin: 0 auto;\nfont-family: Tahoma, Verdana, Arial, sans-serif; }\n&lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Welcome to nginx!&lt;/h1&gt;\n&lt;p&gt;If you see this page, the nginx web server is successfully installed and\nworking. Further configuration is required.&lt;/p&gt;\n\n&lt;p&gt;For online documentation and support please refer to\n&lt;a href=\"http://nginx.org/\"&gt;nginx.org&lt;/a&gt;.&lt;br/&gt;\nCommercial support is available at\n&lt;a href=\"http://nginx.com/\"&gt;nginx.com&lt;/a&gt;.&lt;/p&gt;\n\n&lt;p&gt;&lt;em&gt;Thank you for using nginx.&lt;/em&gt;&lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <p>Windows \u5074\u3067\u306f IPv6 \u306b\u306e\u307f bind \u3055\u308c\u308b (2025/02/18\u8ffd\u8a18)</p> <p>\u4e0a\u8a18\u306e\u3088\u3046\u306b <code>-p</code> \u3067\u30b3\u30f3\u30c6\u30ca\u30dd\u30fc\u30c8\u3092\u30db\u30b9\u30c8\u306b\u516c\u958b\u3057\u3066\u3044\u308b\u306b\u3082\u304b\u304b\u308f\u3089\u305a\u3001 \u30db\u30b9\u30c8\u30de\u30b7\u30f3\u306e Windows \u304b\u3089\u30a2\u30af\u30bb\u30b9\u3067\u304d\u306a\u3044\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u3057\u3066IPv4 \u306b\u30d0\u30a4\u30f3\u30c9\u3059\u308b\u3053\u3068\u3002</p> <pre><code>podman run ... -p 127.0.0.1:8080:80 ...\n</code></pre> <p>\u7406\u7531\u3068\u3057\u3066\u306f\u3001 Linux (WSL \u306e Ubuntu) \u4e0a\u3067\u306f <code>*:8080</code> \u3068\u3057\u3066 IPv4/IPv6 \u306e\u30c7\u30e5\u30a2\u30eb\u30b9\u30bf\u30c3\u30af\u3067 bind \u3055\u308c\u308b\u304c\u3001 Windows \u5074\u3067\u306f <code>[::1]:8080</code> \u3068 IPv6 \u306b\u306e\u307f bind \u3055\u308c\u308b\u305f\u3081\u3002</p> <p>\u5b9f\u969b\u3001\u524d\u8ff0\u306e NGINX \u8d77\u52d5\u5f8c\u3001 WSL (Linux) \u5074\u3068\u30db\u30b9\u30c8 (Windows) \u5074\u3067\u9055\u3044\u3092\u78ba\u8a8d\u3067\u304d\u308b\u3002</p> <p>WSL (Linux) \u5074</p> <p><code>*:8080</code> \u306a\u306e\u3067\u3001\u3044\u305a\u308c\u306e IP address \u3067\u3082 8080/tcp \u3067 bind \u3055\u308c\u3066\u3044\u308b\u3002</p> <pre><code>$ ss -lnpt | grep -i 8080\nLISTEN 0    4096    *:8080      *:*    users:((\"rootlessport\",pid=252807,fd=11))\n</code></pre> <p>\u30db\u30b9\u30c8 (Windows) \u5074</p> <p><code>[::1]:8080</code> \u3068\u3001 IPv6 \u306e Loopback \u30a2\u30c9\u30ec\u30b9\u306b\u306e\u307f bind \u3055\u308c\u3066\u3044\u308b (<code>0.0.0.0:8080</code> \u304c\u7121\u3044)\u3002</p> <pre><code>PS1&gt; netstat -ano | Select-String '8080'\nTCP     [::1]:8080      [::]:0      LISTENING   13440\n</code></pre>","tags":["Windows","WSL","Podman"]},{"location":"guides/windows/wsl/install-wsl2/","title":"Install WSL2","text":"<p>Info</p> <p>WSL \u306e\u8a73\u3057\u3044\u3053\u3068\u306f\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u53c2\u7167</p> <p>Windows 11 \u306b\u306a\u3063\u3066\u304b\u3089\u305a\u3044\u3076\u3093\u3068 WSL2 \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u304c\u7c21\u5358\u306b\u306a\u3063\u305f\u306e\u3067\u30e1\u30e2\u3002\u6d41\u308c\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002</p> <ol> <li> <p>Windows \u306e\u6a5f\u80fd\u304b\u3089\u3001\u4ee5\u4e0b\u306e2\u3064\u3092\u6709\u52b9\u306b\u3057\u3066\u518d\u8d77\u52d5\u3059\u308b</p> <ul> <li>Linux \u7528 Windows \u30b5\u30d6\u30b7\u30b9\u30c6\u30e0</li> <li>\u4eee\u60f3\u30de\u30b7\u30f3 \u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0</li> </ul> </li> <li> <p>WSL2 \u3092\u30c7\u30d5\u30a9\u30eb\u30c8\u306b\u8a2d\u5b9a\u3057\u3001 WSL \u3068 Ubuntu \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b</p> </li> </ol>","tags":["Windows","WSL"]},{"location":"guides/windows/wsl/install-wsl2/#windows-\u6a5f\u80fd\u306e\u6709\u52b9\u5316","title":"Windows \u6a5f\u80fd\u306e\u6709\u52b9\u5316","text":"<ol> <li> <p>Win+R \u3092\u62bc\u3057\u3066\u3001\u300c\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u6307\u5b9a\u3057\u3066\u5b9f\u884c\u300d\u30c0\u30a4\u30a2\u30ed\u30b0\u3092\u958b\u304f</p> </li> <li> <p><code>powershell</code> \u3068\u5165\u529b\u3057\u3066 Ctrl+Shift+Enter \u3092\u62bc\u3059     (\u7ba1\u7406\u8005\u30e2\u30fc\u30c9\u3067 PowerShell \u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u958b\u304f)</p> <p>\u300cWindows Powershell\u300d\u8d77\u52d5\u306b\u95a2\u3059\u308b\u78ba\u8a8d\u30c0\u30a4\u30a2\u30ed\u30b0\u306f\u300c\u306f\u3044\u300d\u3092\u9078\u3076</p> </li> <li> <p>\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u3001\u300cLinux \u7528 Windows \u30b5\u30d6\u30b7\u30b9\u30c6\u30e0\u300d\u3068\u300c\u4eee\u60f3\u30de\u30b7\u30f3 \u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u300d\u3092\u6709\u52b9\u306b\u3059\u308b</p> \u300cLinux \u7528 Windows Subsystem\u300d\u3092\u6709\u52b9\u5316<pre><code>dism.exe /Online /Enable-Feature /FeatureName:Microsoft-Windows-Subsystem-Linux /All /NoRestart\n</code></pre> \u300c\u4eee\u60f3\u30de\u30b7\u30f3 \u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u300d\u3092\u6709\u52b9\u5316<pre><code>dism.exe /Online /Enable-Feature /FeatureName:VirtualMachinePlatform /All /NoRestart\n</code></pre> </li> <li> <p>Windows \u3092\u518d\u8d77\u52d5\u3059\u308b</p> </li> </ol> \u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067\u306f\u306a\u304f\u3001 GUI \u3067\u8a2d\u5b9a\u3059\u308b\u5834\u5408 <ol> <li> <p>\u4ee5\u4e0b\u306e\u3044\u305a\u308c\u304b\u3067\u300cWindows \u306e\u6a5f\u80fd\u306e\u6709\u52b9\u5316\u307e\u305f\u306f\u7121\u52b9\u5316\u300d\u753b\u9762\u3092\u958b\u304f</p> <ul> <li> <p><code>\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb \u30d1\u30cd\u30eb\\\u30d7\u30ed\u30b0\u30e9\u30e0\\\u30d7\u30ed\u30b0\u30e9\u30e0\u3068\u6a5f\u80fd\\</code> \u304b\u3089\u958b\u304f</p> </li> <li> <ol> <li> <p>Win+R \u3092\u62bc\u3057\u3066\u3001\u300c\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u6307\u5b9a\u3057\u3066\u5b9f\u884c\u300d\u30c0\u30a4\u30a2\u30ed\u30b0\u3092\u958b\u3044\u3066</p> </li> <li> <p><code>OptionalFeatures.exe</code> \u3068\u5165\u529b\u3057\u3066 Enter \u3092\u62bc\u3059</p> </li> </ol> </li> </ul> </li> <li> <p>\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u753b\u9762\u304c\u958b\u304f\u306e\u3067\u3001\u300cLinux \u7528 Windows \u30b5\u30d6\u30b7\u30b9\u30c6\u30e0\u300d\u3068\u300c\u4eee\u60f3\u30de\u30b7\u30f3 \u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u300d\u3092\u6709\u52b9\u306b\u3059\u308b </p> </li> </ol>","tags":["Windows","WSL"]},{"location":"guides/windows/wsl/install-wsl2/#wsl-\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","title":"WSL \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb","text":"<ol> <li> <p>Win+R \u3092\u62bc\u3057\u3066\u3001\u300c\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u6307\u5b9a\u3057\u3066\u5b9f\u884c\u300d\u30c0\u30a4\u30a2\u30ed\u30b0\u3092\u958b\u304f</p> </li> <li> <p><code>powershell</code> \u3068\u5165\u529b\u3057\u3066 Ctrl+Shift+Enter \u3092\u62bc\u3059     (\u7ba1\u7406\u8005\u30e2\u30fc\u30c9\u3067 PowerShell \u30d7\u30ed\u30f3\u30d7\u30c8\u3092\u958b\u304f)</p> <p>\u300cWindows Powershell\u300d\u8d77\u52d5\u306b\u95a2\u3059\u308b\u78ba\u8a8d\u30c0\u30a4\u30a2\u30ed\u30b0\u306f\u300c\u306f\u3044\u300d\u3092\u9078\u3076</p> </li> <li> <p>\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u3001 WSL2 \u3092\u30c7\u30d5\u30a9\u30eb\u30c8\u306b\u8a2d\u5b9a\u3059\u308b</p> WSL2 \u3092\u30c7\u30d5\u30a9\u30eb\u30c8\u306b\u8a2d\u5b9a<pre><code>wsl.exe --set-default-version 2\n</code></pre> </li> <li> <p>\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u3001Ubuntu \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b</p> Ubuntu \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb<pre><code>wsl.exe --install -d Ubuntu\n</code></pre> <p>\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u53ef\u80fd\u306a\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u540d\u3092\u78ba\u8a8d\u3059\u308b\u306b\u306f</p> <p>\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u6307\u5b9a\u53ef\u80fd\u306a\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u540d\u3092\u78ba\u8a8d\u3067\u304d\u308b</p> \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u53ef\u80fd\u306a\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u78ba\u8a8d\u65b9\u6cd5<pre><code>wsl.exe -l --online\n</code></pre> </li> </ol>","tags":["Windows","WSL"]},{"location":"guides/windows/wsl/mirrored-mode-with-vpn/","title":"Mirror mode for accessing external networks while enabling VPN","text":"<p>Warning</p> <p>\u4ee5\u4e0b\u74b0\u5883\u3067\u691c\u8a3c\u6e08</p> <ul> <li>Windows: Windows 11 Pro 23H2</li> <li>WSL2: 2.4.11.0</li> <li>Linux on WSL: Ubuntu 24.04.1 LTS</li> </ul> <p>Global Protect \u306a\u3069\u3001 WSL \u30db\u30b9\u30c8 (\u3064\u307e\u308a Windows \u4e0a) \u3067 VPN \u304c\u6709\u52b9\u306a\u72b6\u614b\u3060\u3068\u3001 WSL \u304b\u3089\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u306e\u30db\u30b9\u30c8\u306b\u63a5\u7d9a\u3067\u304d\u306a\u304f\u306a\u3063\u3066\u3057\u307e\u3046\u3002 \u624b\u5143\u306b VPN \u63a5\u7d9a\u72b6\u614b\u3092\u691c\u8a3c\u3067\u304d\u308b\u74b0\u5883\u306b\u306a\u3044\u304c\u3001 DNS \u540d\u524d\u89e3\u6c7a\u304c\u3067\u304d\u306a\u304f\u306a\u308b\u3053\u3068\u304c\u539f\u56e0\u306e\u6a21\u69d8\u3002</p> <p>VPN \u63a5\u7d9a\u72b6\u614b\u3067\u3082\u4ee5\u4e0b\u306e\u3044\u305a\u308c\u304b\u306e\u65b9\u6cd5\u3067\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u3078\u306e\u63a5\u7d9a\u304c\u53ef\u80fd\u306b\u306a\u308b\u304c\u3001 \u3053\u3053\u3067\u306f WSL2 v2.0.5 \u4ee5\u964d\u3067\u4f7f\u7528\u53ef\u80fd\u306b\u306a\u3063\u305f Mirrored \u30e2\u30fc\u30c9\u3092\u5229\u7528\u3059\u308b\u624b\u9806\u3092\u793a\u3059\u3002</p> <ol> <li> <p>Mirrored \u30e2\u30fc\u30c9\u3092\u6709\u52b9\u306b\u3059\u308b</p> </li> <li> <p>wsl-vpnkit \u3092\u4f7f\u7528\u3059\u308b</p> </li> </ol> <p>Quote</p> <p>wsl-vpnkit \u304c\u6c17\u306b\u306a\u308b\u65b9\u306f\u3001\u516c\u5f0f\u30da\u30fc\u30b8\u3084\u5468\u8fba\u60c5\u5831\u3092\u63a2\u3057\u3066\u307f\u3066\u78ba\u8a8d\u3057\u3066\u8a66\u3057\u3066\u3082\u3089\u3044\u305f\u3044\u3002 \u6bd4\u8f03\u7684\u591a\u304f\u60c5\u5831\u304c\u3042\u308b\u3057\u3001\u5c0e\u5165\u3082\u96e3\u3057\u304f\u306a\u3044\u3002</p>","tags":["Windows","WSL","VPN"]},{"location":"guides/windows/wsl/mirrored-mode-with-vpn/#mirrored-\u30e2\u30fc\u30c9\u3092\u6709\u52b9\u306b\u3059\u308b","title":"Mirrored \u30e2\u30fc\u30c9\u3092\u6709\u52b9\u306b\u3059\u308b","text":"<p><code>%USERPROFILE%\\.wslconfig</code> \u3092\u958b\u304d\u3001\u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u8ffd\u8a18\u3059\u308b\u3002</p> <pre><code>[wsl2]\nnetworkingMode = mirrored\n</code></pre> <p>\u8a2d\u5b9a\u306e\u8ffd\u8a18\u304c\u7d42\u308f\u3063\u305f\u3089\u3001 PowerShell \u3067\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066 WSL2 \u3092\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u3059\u308b\u3002</p> <pre><code>wsl --shutdown\n</code></pre> <p>\u3082\u3046\u4e00\u5ea6 WSL2 (\u306e Linux \u30de\u30b7\u30f3) \u3092\u8d77\u52d5\u3057\u306a\u304a\u305b\u3070\u3001 VPN \u6709\u52b9\u72b6\u614b\u3067\u3082DNS \u540d\u524d\u89e3\u6c7a\u304c\u3067\u304d\u3066\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u63a5\u7d9a\u304c\u3067\u304d\u308b\u306f\u305a\u3002</p>","tags":["Windows","WSL","VPN"]},{"location":"guides/windows/wsl/update-ubuntu-version/","title":"Update Ubuntu version on WSL2","text":"<p>\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u306e Ubuntu on WSL2 \u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u4e0a\u3052\u308b\u624b\u9806\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3002</p> <p>Warning</p> <p>\u30b3\u30b3\u3067\u306f\u3001\u672c\u8a18\u4e8b\u57f7\u7b46 2025/01/09 \u6642\u70b9\u306e Ubuntu 22.04.05 LTS \u304b\u3089 Ubuntu 24.04.01 LTS \u306b\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3059\u308b\u624b\u9806\u3092\u4f8b\u3068\u3059\u308b\u3002 \u30d0\u30fc\u30b8\u30e7\u30f3\u306f\u9069\u5b9c\u74b0\u5883\u3084\u6642\u671f\u306b\u5408\u308f\u305b\u3066\u8aad\u307f\u66ff\u3048\u308b\u3053\u3068\u3002</p> <ol> <li> <p>\u73fe\u5728\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u78ba\u8a8d\u3057\u3066\u304a\u304f</p> <pre><code>$ grep -i /etc/os-release\n  :\nVERSION=\"22.04.05 LTS (Jammy Jellyfish)\"\n  :\n</code></pre> </li> <li> <p>\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u30d1\u30c3\u30b1\u30fc\u30b8\u3068\u305d\u306e\u4f9d\u5b58\u95a2\u4fc2\u3092\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3057\u3066\u304a\u304f</p> <pre><code>sudo apt update &amp;&amp; sudo apt upgrade\n</code></pre> </li> <li> <p>\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8 \u517c \u4e0d\u8981\u306a\u30d1\u30c3\u30b1\u30fc\u30b8\u306e\u524a\u9664</p> <pre><code>sudo apt full-upgrade\n</code></pre> <p>Tip</p> <p><code>apt dist-upgrade</code> \u3068 <code>apt full-upgrade</code> \u306f\u7b49\u4fa1\u3089\u3057\u3044\u3002 https://askubuntu.com/questions/770135/apt-full-upgrade-versus-apt-get-dist-upgrade</p> <p>\u305f\u3060\u3057\u3001 <code>apt-get -h</code> \u3067\u306f <code>dist-upgrade</code> \u304c\u3001 <code>apt -h</code> \u3067\u306f <code>full-upgrade</code> \u304c\u8868\u793a\u3055\u308c\u308b\u306e\u3067\u3001 <code>apt</code> \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3059\u308b\u5834\u5408\u306f <code>full-upgrade</code> \u3068\u3059\u308b\u65b9\u304c\u826f\u3044\u306e\u304b\u3082\u3002</p> </li> <li> <p>\u30ea\u30ea\u30fc\u30b9\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb</p> <pre><code>$ sudo apt install -y update-manager-core\n</code></pre> </li> <li> <p>LTS \u7248\u306b\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3059\u308b\u3088\u3046\u306b\u6307\u5b9a\u3057\u3066\u304a\u304f</p> <pre><code>$ sudo sed -i '/^Prompt/ s,=.*,=lts,' /etc/update-manager/releaes-upgrades\n</code></pre> </li> <li> <p>\u30ea\u30ea\u30fc\u30b9\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3092\u5b9f\u884c</p> <pre><code>sudo do-release-upgrade\n</code></pre> <p>\u9014\u4e2d\u3001\u3044\u308d\u3044\u308d\u540c\u610f\u3092\u6c42\u3081\u3089\u308c\u308b\u3053\u3068\u3082\u3042\u308b\u304c <code>y</code> \u3068\u7b54\u3048\u3066\u9032\u3081\u308b\u3002 \u5168\u90e8\u7d42\u308f\u3063\u305f\u3089\u3001\u4e00\u65e6 WSL2 \u306e\u30bf\u30fc\u30df\u30ca\u30eb\u3092\u9589\u3058\u308b\u3002</p> </li> <li> <p>\u5ff5\u306e\u305f\u3081\u3001 WSL2 \u3092\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u3059\u308b</p> <pre><code>wsl --shutdown\n</code></pre> </li> <li> <p>\u6539\u3081\u3066 WSL2 \u3092\u8d77\u52d5\u3059\u308b\u3068\u3001\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u4e0a\u304c\u3063\u3066\u3044\u308b\u306f\u305a</p> <pre><code>$ grep -i /etc/os-release\n  :\nVERSION=\"24.04.01 LTS (Noble Numbat)\"\n  :\n</code></pre> </li> </ol>","tags":["Windows","WSL"]},{"location":"guides/windows/wsl/use-gcm-from-wsl/","title":"Use GCM from WSL","text":"<p>WSL \u304b\u3089 GitHub private \u30ea\u30dd\u30b8\u30c8\u30ea\u306a\u3069\u8a8d\u8a3c\u3092\u5fc5\u8981\u3068\u3059\u308b\u30ea\u30dd\u30b8\u30c8\u30ea\u3092\u5229\u7528\u6642\u3001 \u6bce\u56de\u8a8d\u8a3c\u3092\u8981\u6c42\u3055\u308c\u308b\u3053\u3068\u3092\u907f\u3051\u305f\u3044\u3002 Linux \u7248 GCM (Git Credential Manager) \u3092\u5c0e\u5165\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3042\u308c\u3070\u3001 Windows \u306e\u8cc7\u683c\u60c5\u5831\u306b\u4fdd\u5b58\u3057\u3066 WSL \u30db\u30b9\u30c8 (Windows \u30de\u30b7\u30f3) \u304b\u3089\u3082 Git \u306e\u8cc7\u683c\u60c5\u5831\u3092\u4f7f\u7528\u3067\u304d\u308b\u3088\u3046\u306b\u3057\u305f\u3044\u3002</p> <p>\u3053\u3053\u3067\u306f\u3001 WSL \u30db\u30b9\u30c8\u306b GCM \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3064\u3064\u3001 WSL \u304b\u3089 GCM \u3092\u5229\u7528\u3059\u308b\u624b\u9806\u3092\u793a\u3059\u3002</p>","tags":["Windows","WSL","Git","Git Credential Manager"]},{"location":"guides/windows/wsl/use-gcm-from-wsl/#gcm-\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u8a2d\u5b9a","title":"GCM \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u8a2d\u5b9a","text":"<ol> <li> <p>\u3082\u3057 Git for Windows \u306a\u3069\u3001 Windows \u306e Git \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u306a\u3051\u308c\u3070\u3001     PowerShell \u3067\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066 Git for Windows \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b     (GCM \u5358\u4f53\u3067\u306f <code>git.exe</code> \u304c\u898b\u3064\u304b\u3089\u306a\u3044\u3053\u3068\u3067\u30a8\u30e9\u30fc\u306b\u306a\u308b)</p> <pre><code>winget install -e --id Git.Git -l C:\\tools\\git  # (1)!\n</code></pre> <ol> <li>\u30b3\u30b3\u3067\u306f <code>C:\\tools\\git</code> \u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u308b</li> </ol> </li> <li> <p>\u540c\u69d8\u306b\u3001 PowerShell \u3067\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066 GCM \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b</p> <pre><code>winget install -e --id Git.GCM -l C:\\tools\\gcm  # (1)!\n</code></pre> <ol> <li>\u30b3\u30b3\u3067\u306f <code>C:\\tools\\gcm</code> \u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u308b</li> </ol> </li> <li> <p>WSL \u306e <code>${HOME}/.gitconfig</code> \u306b GCM \u3092 <code>credential.helper</code> \u3068\u3057\u3066\u8a2d\u5b9a\u3059\u308b</p> <pre><code>wsl -- git config --global credential.helper `\n    \"$(wsl wslpath \"'C:\\tools\\gcm\\git-credential-helper.exe'\")\"  # (1)!\n</code></pre> <ol> <li>\u76f4\u524d\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u305f GCM \u306e\u30d1\u30b9\u3092\u6307\u5b9a\u3059\u308b</li> </ol> </li> </ol> <p>\u4ee5\u4e0a\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u8a2d\u5b9a\u306f\u5b8c\u4e86\u3002 <code>git.exe</code> \u306e\u30d1\u30b9\u3092\u6709\u52b9\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u306e\u3067\u3001 \u4e00\u5ea6\u8d77\u52d5\u6e08\u306e WSL \u30bf\u30fc\u30df\u30ca\u30eb\u3092\u5168\u3066\u7d42\u4e86\u3055\u305b\u3066\u3001 <code>wsl --shutdown</code> \u3067 WSL \u3092\u30b7\u30e3\u30c3\u30c8\u30c0\u30a6\u30f3\u3057\u3066\u304b\u3089\u8d77\u52d5\u3057\u306a\u304a\u3059\u3053\u3068\u3002</p>","tags":["Windows","WSL","Git","Git Credential Manager"]},{"location":"blog/archive/2025/","title":"2025","text":""},{"location":"blog/category/tech-research/","title":"Tech Research","text":""},{"location":"blog/category/tech-memo/","title":"Tech Memo","text":""},{"location":"blog/category/misc/","title":"Misc","text":""},{"location":"tags/","title":"Tags","text":""},{"location":"tags/#cgroup","title":"CGroup","text":"<ul> <li>Podman in WSL \u3067 kind \u3092\u4f7f\u3063\u3066 Kubernetes \u3067\u904a\u3073\u305f\u3044</li> <li>Podman in WSL \u3067 k3d \u3092\u4f7f\u3063\u3066 Kubernetes \u3067\u904a\u3073\u305f\u3044</li> </ul>"},{"location":"tags/#configurations","title":"Configurations","text":"<ul> <li>Create symlink as Non-Admin User</li> </ul>"},{"location":"tags/#container","title":"Container","text":"<ul> <li>Podman \u3067\u8d77\u52d5\u3057\u305f\u30b3\u30f3\u30c6\u30ca\u5185\u306e UID \u3068\u30db\u30b9\u30c8\u304b\u3089\u898b\u305f UID \u304c\u52dd\u624b\u306b\u5909\u308f\u308b\u4ef6\u306b\u3064\u3044\u3066\u8abf\u3079\u3066\u307f\u305f</li> <li>Devcontainer \u7528\u306e\u30b3\u30f3\u30c6\u30ca\u30cd\u30c3\u30c8\u30ef\u30fc\u30af</li> <li>Podman in WSL \u3067 kind \u3092\u4f7f\u3063\u3066 Kubernetes \u3067\u904a\u3073\u305f\u3044</li> <li>Podman in WSL \u3067 k3d \u3092\u4f7f\u3063\u3066 Kubernetes \u3067\u904a\u3073\u305f\u3044</li> <li>kind \u3067 MetalLB \u3092\u4f7f\u3063\u3066 type=LoadBalancer \u3092\u4f7f\u3044\u305f\u3044</li> <li>Devcontainer \u3067 Podman Compose \u3092\u5229\u7528\u3059\u308b</li> </ul>"},{"location":"tags/#devcontainer","title":"Devcontainer","text":"<ul> <li>Podman \u3067\u8d77\u52d5\u3057\u305f\u30b3\u30f3\u30c6\u30ca\u5185\u306e UID \u3068\u30db\u30b9\u30c8\u304b\u3089\u898b\u305f UID \u304c\u52dd\u624b\u306b\u5909\u308f\u308b\u4ef6\u306b\u3064\u3044\u3066\u8abf\u3079\u3066\u307f\u305f</li> <li>Devcontainer \u7528\u306e\u30b3\u30f3\u30c6\u30ca\u30cd\u30c3\u30c8\u30ef\u30fc\u30af</li> <li>Podman in WSL \u3067 kind \u3092\u4f7f\u3063\u3066 Kubernetes \u3067\u904a\u3073\u305f\u3044</li> <li>Podman in WSL \u3067 k3d \u3092\u4f7f\u3063\u3066 Kubernetes \u3067\u904a\u3073\u305f\u3044</li> <li>kind \u3067 MetalLB \u3092\u4f7f\u3063\u3066 type=LoadBalancer \u3092\u4f7f\u3044\u305f\u3044</li> <li>Devcontainer \u3067 Podman Compose \u3092\u5229\u7528\u3059\u308b</li> </ul>"},{"location":"tags/#git","title":"Git","text":"<ul> <li>Use GCM from WSL</li> </ul>"},{"location":"tags/#git-credential-manager","title":"Git Credential Manager","text":"<ul> <li>Use GCM from WSL</li> </ul>"},{"location":"tags/#kiota","title":"Kiota","text":"<ul> <li>Microsoft \u304c API \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u751f\u6210\u30c4\u30fc\u30eb Kiota \u3092\u63d0\u4f9b\u3057\u3066\u3044\u308b\u3089\u3057\u3044</li> </ul>"},{"location":"tags/#kubernetes","title":"Kubernetes","text":"<ul> <li>Podman in WSL \u3067 kind \u3092\u4f7f\u3063\u3066 Kubernetes \u3067\u904a\u3073\u305f\u3044</li> <li>Podman in WSL \u3067 k3d \u3092\u4f7f\u3063\u3066 Kubernetes \u3067\u904a\u3073\u305f\u3044</li> <li>kind \u3067 MetalLB \u3092\u4f7f\u3063\u3066 type=LoadBalancer \u3092\u4f7f\u3044\u305f\u3044</li> </ul>"},{"location":"tags/#loadbalancer","title":"LoadBalancer","text":"<ul> <li>kind \u3067 MetalLB \u3092\u4f7f\u3063\u3066 type=LoadBalancer \u3092\u4f7f\u3044\u305f\u3044</li> </ul>"},{"location":"tags/#metallb","title":"MetalLB","text":"<ul> <li>kind \u3067 MetalLB \u3092\u4f7f\u3063\u3066 type=LoadBalancer \u3092\u4f7f\u3044\u305f\u3044</li> </ul>"},{"location":"tags/#nodejs","title":"Node.js","text":"<ul> <li>Install Node.js via fnm</li> <li>Install Node.js via NVM for Windows</li> </ul>"},{"location":"tags/#openapi","title":"OpenAPI","text":"<ul> <li>Microsoft \u304c API \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u751f\u6210\u30c4\u30fc\u30eb Kiota \u3092\u63d0\u4f9b\u3057\u3066\u3044\u308b\u3089\u3057\u3044</li> </ul>"},{"location":"tags/#podman","title":"Podman","text":"<ul> <li>Podman \u3067\u8d77\u52d5\u3057\u305f\u30b3\u30f3\u30c6\u30ca\u5185\u306e UID \u3068\u30db\u30b9\u30c8\u304b\u3089\u898b\u305f UID \u304c\u52dd\u624b\u306b\u5909\u308f\u308b\u4ef6\u306b\u3064\u3044\u3066\u8abf\u3079\u3066\u307f\u305f</li> <li>Devcontainer \u7528\u306e\u30b3\u30f3\u30c6\u30ca\u30cd\u30c3\u30c8\u30ef\u30fc\u30af</li> <li>Podman in WSL \u3067 kind \u3092\u4f7f\u3063\u3066 Kubernetes \u3067\u904a\u3073\u305f\u3044</li> <li>Podman in WSL \u3067 k3d \u3092\u4f7f\u3063\u3066 Kubernetes \u3067\u904a\u3073\u305f\u3044</li> <li>kind \u3067 MetalLB \u3092\u4f7f\u3063\u3066 type=LoadBalancer \u3092\u4f7f\u3044\u305f\u3044</li> <li>Devcontainer \u3067 Podman Compose \u3092\u5229\u7528\u3059\u308b</li> <li>Install Podman on WSL</li> </ul>"},{"location":"tags/#query-language","title":"Query Language","text":"<ul> <li>Wvlet \u3068\u304b\u3044\u3046\u30d5\u30ed\u30fc\u30b9\u30bf\u30a4\u30eb\u30af\u30a8\u30ea\u8a00\u8a9e</li> </ul>"},{"location":"tags/#vpn","title":"VPN","text":"<ul> <li>Mirror mode for accessing external networks while enabling VPN</li> </ul>"},{"location":"tags/#wsl","title":"WSL","text":"<ul> <li>Podman \u3067\u8d77\u52d5\u3057\u305f\u30b3\u30f3\u30c6\u30ca\u5185\u306e UID \u3068\u30db\u30b9\u30c8\u304b\u3089\u898b\u305f UID \u304c\u52dd\u624b\u306b\u5909\u308f\u308b\u4ef6\u306b\u3064\u3044\u3066\u8abf\u3079\u3066\u307f\u305f</li> <li>Devcontainer \u7528\u306e\u30b3\u30f3\u30c6\u30ca\u30cd\u30c3\u30c8\u30ef\u30fc\u30af</li> <li>Podman in WSL \u3067 kind \u3092\u4f7f\u3063\u3066 Kubernetes \u3067\u904a\u3073\u305f\u3044</li> <li>Podman in WSL \u3067 k3d \u3092\u4f7f\u3063\u3066 Kubernetes \u3067\u904a\u3073\u305f\u3044</li> <li>kind \u3067 MetalLB \u3092\u4f7f\u3063\u3066 type=LoadBalancer \u3092\u4f7f\u3044\u305f\u3044</li> <li>Devcontainer \u3067 Podman Compose \u3092\u5229\u7528\u3059\u308b</li> <li>Install Podman on WSL</li> <li>Install WSL2</li> <li>Mirror mode for accessing external networks while enabling VPN</li> <li>Update Ubuntu version on WSL2</li> <li>Use GCM from WSL</li> </ul>"},{"location":"tags/#windows","title":"Windows","text":"<ul> <li>Create symlink as Non-Admin User</li> <li>Install Node.js via fnm</li> <li>Install Node.js via NVM for Windows</li> <li>Install Podman on WSL</li> <li>Install WSL2</li> <li>Mirror mode for accessing external networks while enabling VPN</li> <li>Update Ubuntu version on WSL2</li> <li>Use GCM from WSL</li> </ul>"},{"location":"tags/#wvlet","title":"Wvlet","text":"<ul> <li>Wvlet \u3068\u304b\u3044\u3046\u30d5\u30ed\u30fc\u30b9\u30bf\u30a4\u30eb\u30af\u30a8\u30ea\u8a00\u8a9e</li> </ul>"},{"location":"tags/#k3d","title":"k3d","text":"<ul> <li>Podman in WSL \u3067 k3d \u3092\u4f7f\u3063\u3066 Kubernetes \u3067\u904a\u3073\u305f\u3044</li> </ul>"},{"location":"tags/#kind","title":"kind","text":"<ul> <li>Podman in WSL \u3067 kind \u3092\u4f7f\u3063\u3066 Kubernetes \u3067\u904a\u3073\u305f\u3044</li> <li>kind \u3067 MetalLB \u3092\u4f7f\u3063\u3066 type=LoadBalancer \u3092\u4f7f\u3044\u305f\u3044</li> </ul>"}]}